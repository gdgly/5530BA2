; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o..\output\menu.o --asm_dir=..\Listing\ --list_dir=..\Listing\ --depend=..\output\menu.d --cpu=Cortex-M4.fp --apcs=interwork -O1 --diag_suppress=9931,870 -I..\APP -I..\drive -I..\Include -I..\Libraries\CMSIS\inc -I..\Libraries\CMSIS\src -I..\Libraries\FWlib\inc -I..\Libraries\FWlib\src -I..\Listing -I..\Output -I..\Project -I..\STemWinLibrary522\Config -I..\STemWinLibrary522\emWinTask -I..\STemWinLibrary522\GUILib -I..\STemWinLibrary522\inc -I..\User -I..\USB\STM32_USB_HOST_Library\Class\HID\inc -I..\USB\STM32_USB_HOST_Library\Class\MSC\src -I..\USB\STM32_USB_HOST_Library\Core\src -I..\USB\USB_APP -I..\USB\STM32_USB_HOST_Library\Class\HID\src -I..\USB\STM32_USB_HOST_Library\Class\MSC\inc -I..\USB\STM32_USB_HOST_Library\Core\inc -I..\USB\STM32_USB_OTG_Driver\inc -I..\FATFS\exfuns -I..\FATFS\src\option -I..\FATFS\src -I..\MALLOC -I..\FATFS -I..\IAP -ID:\Keil_v5\ARM\RV31\INC -ID:\Keil_v5\ARM\CMSIS\Include -ID:\Keil_v5\ARM\INC\ST\STM32F4xx -D__UVISION_VERSION=525 -DUSE_STDPERIPH_DRIVER -DSTM32F40XX -DUSE_USB_OTG_FS -DUSE_EMBEDDED_PHY -DUSE_USB_OTG_HS -DSTM32F40XX --omf_browse=..\output\menu.crf --no_multibyte_chars ..\APP\menu.c]
                          THUMB

                          AREA ||i.CreateWindow||, CODE, READONLY, ALIGN=2

                  CreateWindow PROC
;;;494    
;;;495    WM_HWIN CreateWindow(void) {
000000  b57c              PUSH     {r2-r6,lr}
;;;496      if(page_sw == face_graph || page_sw == face_menu)
000002  4c27              LDR      r4,|L1.160|
000004  7820              LDRB     r0,[r4,#0]  ; page_sw
000006  2800              CMP      r0,#0
000008  d015              BEQ      |L1.54|
00000a  7820              LDRB     r0,[r4,#0]  ; page_sw
00000c  2802              CMP      r0,#2
00000e  d012              BEQ      |L1.54|
;;;497      {      
;;;498      }else{
;;;499    	  GPIO_SetBits(GPIOA,GPIO_Pin_15);//µç×Ó¸ºÔØOFF
000010  f44f4100          MOV      r1,#0x8000
000014  4823              LDR      r0,|L1.164|
000016  f7fffffe          BL       GPIO_SetBits
;;;500    	  GPIO_ResetBits(GPIOC,GPIO_Pin_1);//¹Ø±ÕµçÔ´Êä³ö
00001a  4d23              LDR      r5,|L1.168|
00001c  2102              MOVS     r1,#2
00001e  4628              MOV      r0,r5
000020  f7fffffe          BL       GPIO_ResetBits
;;;501    	  Delay_ms(500);
000024  f44f70fa          MOV      r0,#0x1f4
000028  f7fffffe          BL       Delay_ms
;;;502    	  GPIO_SetBits(GPIOC,GPIO_Pin_13);//¹Ø±ÕµçÔ´Êä³ö¼ÌµçÆ
00002c  f44f5100          MOV      r1,#0x2000
000030  4628              MOV      r0,r5
000032  f7fffffe          BL       GPIO_SetBits
                  |L1.54|
;;;503    //      IO_OFF();
;;;504    	  
;;;505      }
;;;506      page_sw = face_menu;
000036  2002              MOVS     r0,#2
000038  7020              STRB     r0,[r4,#0]
;;;507      track = face_menu;
00003a  491c              LDR      r1,|L1.172|
00003c  7008              STRB     r0,[r1,#0]
;;;508      set_sw = set_10;
00003e  491c              LDR      r1,|L1.176|
000040  2009              MOVS     r0,#9
000042  7008              STRB     r0,[r1,#0]
;;;509      SET_Voltage = pow_v;
000044  481b              LDR      r0,|L1.180|
000046  f8d01098          LDR      r1,[r0,#0x98]  ; Run_Control
00004a  6041              STR      r1,[r0,#4]  ; Run_Control
;;;510      SET_Current = pow_c;
00004c  f8d010a0          LDR      r1,[r0,#0xa0]  ; Run_Control
000050  6081              STR      r1,[r0,#8]  ; Run_Control
;;;511      pow_cutoffc = (float)set_pow_cutoffc/1000;
000052  4819              LDR      r0,|L1.184|
000054  eddf0a19          VLDR     s1,|L1.188|
000058  4d19              LDR      r5,|L1.192|
00005a  ed900a05          VLDR     s0,[r0,#0x14]
00005e  eeb80ac0          VCVT.F32.S32 s0,s0
000062  ee801a20          VDIV.F32 s2,s0,s1
000066  ed851a02          VSTR     s2,[r5,#8]
;;;512      pass = 0;
00006a  4816              LDR      r0,|L1.196|
00006c  2400              MOVS     r4,#0
00006e  7004              STRB     r4,[r0,#0]
;;;513      mode_sw = mode_pow;
000070  4915              LDR      r1,|L1.200|
000072  2003              MOVS     r0,#3
000074  7008              STRB     r0,[r1,#0]
;;;514    //  USART_SendData(USART3,1);//连接电源
;;;515      TM1650_SET_LED(0x68,0x70);
000076  2170              MOVS     r1,#0x70
000078  2068              MOVS     r0,#0x68
00007a  f7fffffe          BL       TM1650_SET_LED
;;;516      GPIO_ResetBits(GPIOD,GPIO_Pin_12);//灭灯
00007e  f44f5180          MOV      r1,#0x1000
000082  4812              LDR      r0,|L1.204|
000084  f7fffffe          BL       GPIO_ResetBits
;;;517      hWinWind = GUI_CreateDialogBox(_aDialogCreate1, GUI_COUNTOF(_aDialogCreate1), _cbDialog, WM_HBKWIN, 0, 0);
000088  f7fffffe          BL       WM_GetDesktopWindow
00008c  4603              MOV      r3,r0
00008e  9400              STR      r4,[sp,#0]
000090  4a0f              LDR      r2,|L1.208|
000092  2116              MOVS     r1,#0x16
000094  480f              LDR      r0,|L1.212|
000096  9401              STR      r4,[sp,#4]
000098  f7fffffe          BL       GUI_CreateDialogBox
00009c  6068              STR      r0,[r5,#4]  ; hWinWind
;;;518      return hWinWind;
;;;519    }
00009e  bd7c              POP      {r2-r6,pc}
;;;520    
                          ENDP

                  |L1.160|
                          DCD      page_sw
                  |L1.164|
                          DCD      0x40020000
                  |L1.168|
                          DCD      0x40020800
                  |L1.172|
                          DCD      track
                  |L1.176|
                          DCD      set_sw
                  |L1.180|
                          DCD      Run_Control
                  |L1.184|
                          DCD      InFlashSave
                  |L1.188|
0000bc  447a0000          DCFS     0x447a0000 ; 1000
                  |L1.192|
                          DCD      ||.data||
                  |L1.196|
                          DCD      pass
                  |L1.200|
                          DCD      mode_sw
                  |L1.204|
                          DCD      0x40020c00
                  |L1.208|
                          DCD      _cbDialog
                  |L1.212|
                          DCD      ||.constdata||

                          AREA ||i.DEL_POW||, CODE, READONLY, ALIGN=2

                  DEL_POW PROC
;;;792    }
;;;793    void DEL_POW(void)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;794    {
;;;795    	switch(set_sw){
000004  4828              LDR      r0,|L2.168|
000006  7800              LDRB     r0,[r0,#0]  ; set_sw
;;;796    		case set_18:
;;;797            {
;;;798    			WM_HWIN hItem;
;;;799    //            WM_InvalidateWindow(hWinWind);
;;;800                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_41);
000008  4a28              LDR      r2,|L2.172|
;;;801    			if(bit > 0)
;;;802    			{
;;;803    				bit --;
;;;804    				set_limit[bit] = '\0';
00000a  4f29              LDR      r7,|L2.176|
00000c  2400              MOVS     r4,#0
00000e  4d29              LDR      r5,|L2.180|
;;;805    			}
;;;806    			if(bit == dot_flag)
000010  4e29              LDR      r6,|L2.184|
000012  2811              CMP      r0,#0x11              ;795
000014  d019              BEQ      |L2.74|
000016  2812              CMP      r0,#0x12              ;795
000018  d02d              BEQ      |L2.118|
00001a  2858              CMP      r0,#0x58              ;795
00001c  d141              BNE      |L2.162|
;;;807    			{
;;;808    				dot_flag = 0;
;;;809    			}
;;;810    			TEXT_SetText(hItem,set_limit);
;;;811    		}break;
;;;812    		case set_19:
;;;813            {
;;;814    			WM_HWIN hItem;
;;;815    //            WM_InvalidateWindow(hWinWind);
;;;816                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_42);
;;;817    			if(bit > 0)
;;;818    			{
;;;819    				bit --;
;;;820    				set_limit[bit] = '\0';
;;;821    			}
;;;822    			if(bit == dot_flag)
;;;823    			{
;;;824    				dot_flag = 0;
;;;825    			}
;;;826    			TEXT_SetText(hItem,set_limit);
;;;827    		}break;
;;;828    		case set_89:
;;;829            {
;;;830                WM_HWIN hItem;
;;;831    //            WM_InvalidateWindow(hWinWind);
;;;832                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_144);
00001e  f640112e          MOV      r1,#0x92e
000022  6850              LDR      r0,[r2,#4]  ; hWinWind
000024  f7fffffe          BL       WM_GetDialogItem
;;;833    			if(bit > 0)
000028  7829              LDRB     r1,[r5,#0]  ; bit
00002a  b121              CBZ      r1,|L2.54|
;;;834    			{
;;;835    				bit --;
00002c  7829              LDRB     r1,[r5,#0]  ; bit
00002e  1e49              SUBS     r1,r1,#1
000030  7029              STRB     r1,[r5,#0]
;;;836    				set_limit[bit] = '\0';
000032  7829              LDRB     r1,[r5,#0]  ; bit
000034  547c              STRB     r4,[r7,r1]
                  |L2.54|
;;;837    			}
;;;838    			if(bit == dot_flag)
000036  7829              LDRB     r1,[r5,#0]  ; bit
000038  7832              LDRB     r2,[r6,#0]  ; dot_flag
00003a  4291              CMP      r1,r2
00003c  d100              BNE      |L2.64|
;;;839    			{
;;;840    				dot_flag = 0;
00003e  7034              STRB     r4,[r6,#0]
                  |L2.64|
;;;841    			}
;;;842    			TEXT_SetText(hItem,set_limit);
000040  e8bd41f0          POP      {r4-r8,lr}
000044  491a              LDR      r1,|L2.176|
000046  f7ffbffe          B.W      TEXT_SetText
                  |L2.74|
00004a  f6400166          MOV      r1,#0x866             ;800
00004e  6850              LDR      r0,[r2,#4]            ;800  ; hWinWind
000050  f7fffffe          BL       WM_GetDialogItem
000054  7829              LDRB     r1,[r5,#0]            ;801  ; bit
000056  b121              CBZ      r1,|L2.98|
000058  7829              LDRB     r1,[r5,#0]            ;803  ; bit
00005a  1e49              SUBS     r1,r1,#1              ;803
00005c  7029              STRB     r1,[r5,#0]            ;803
00005e  7829              LDRB     r1,[r5,#0]            ;804  ; bit
000060  547c              STRB     r4,[r7,r1]            ;804
                  |L2.98|
000062  7829              LDRB     r1,[r5,#0]            ;806  ; bit
000064  7832              LDRB     r2,[r6,#0]            ;806  ; dot_flag
000066  4291              CMP      r1,r2                 ;806
000068  d100              BNE      |L2.108|
00006a  7034              STRB     r4,[r6,#0]            ;808
                  |L2.108|
00006c  e8bd41f0          POP      {r4-r8,lr}            ;810
000070  490f              LDR      r1,|L2.176|
000072  f7ffbffe          B.W      TEXT_SetText
                  |L2.118|
000076  f6400167          MOV      r1,#0x867             ;816
00007a  6850              LDR      r0,[r2,#4]            ;816  ; hWinWind
00007c  f7fffffe          BL       WM_GetDialogItem
000080  7829              LDRB     r1,[r5,#0]            ;817  ; bit
000082  b121              CBZ      r1,|L2.142|
000084  7829              LDRB     r1,[r5,#0]            ;819  ; bit
000086  1e49              SUBS     r1,r1,#1              ;819
000088  7029              STRB     r1,[r5,#0]            ;819
00008a  7829              LDRB     r1,[r5,#0]            ;820  ; bit
00008c  547c              STRB     r4,[r7,r1]            ;820
                  |L2.142|
00008e  7829              LDRB     r1,[r5,#0]            ;822  ; bit
000090  7832              LDRB     r2,[r6,#0]            ;822  ; dot_flag
000092  4291              CMP      r1,r2                 ;822
000094  d100              BNE      |L2.152|
000096  7034              STRB     r4,[r6,#0]            ;824
                  |L2.152|
000098  e8bd41f0          POP      {r4-r8,lr}            ;826
00009c  4904              LDR      r1,|L2.176|
00009e  f7ffbffe          B.W      TEXT_SetText
                  |L2.162|
;;;843    		}break;
;;;844    	}
;;;845    }
0000a2  e8bd81f0          POP      {r4-r8,pc}
;;;846    
                          ENDP

0000a6  0000              DCW      0x0000
                  |L2.168|
                          DCD      set_sw
                  |L2.172|
                          DCD      ||.data||
                  |L2.176|
                          DCD      set_limit
                  |L2.180|
                          DCD      bit
                  |L2.184|
                          DCD      dot_flag

                          AREA ||i.INPUT_POW||, CODE, READONLY, ALIGN=2

                  INPUT_POW PROC
;;;849    void INPUT_POW(char* num);            
;;;850    void INPUT_POW(char* num){ 
000000  e92d47f0          PUSH     {r4-r10,lr}
000004  4681              MOV      r9,r0
;;;851    	u8 i;
;;;852        switch(set_sw){
000006  4854              LDR      r0,|L3.344|
000008  7800              LDRB     r0,[r0,#0]  ; set_sw
;;;853    		case set_18:
;;;854            {
;;;855                WM_HWIN hItem;
;;;856    //            WM_InvalidateWindow(hWinWind);
;;;857                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_41);
00000a  4a54              LDR      r2,|L3.348|
;;;858    			if(bit < 6)
;;;859    			{
;;;860    				strcat(set_limit,num);
;;;861    				if(dot_flag != 0 && strcmp(num,".") == 0)
00000c  f8df8150          LDR      r8,|L3.352|
000010  4f54              LDR      r7,|L3.356|
000012  2400              MOVS     r4,#0                 ;858
000014  4d54              LDR      r5,|L3.360|
000016  2811              CMP      r0,#0x11              ;852
000018  d01e              BEQ      |L3.88|
00001a  2812              CMP      r0,#0x12              ;852
00001c  d04d              BEQ      |L3.186|
00001e  2858              CMP      r0,#0x58              ;852
000020  d16f              BNE      |L3.258|
;;;862    				{
;;;863    					
;;;864    				}else{			
;;;865    					
;;;866    					if(dot_flag == 0 && strcmp(num,".") == 0)
;;;867    					{
;;;868    						dot_flag = bit;
;;;869    					}
;;;870    					bit ++;
;;;871    				}
;;;872    			}else{
;;;873    				bit = 0;
;;;874    				for(i=0;i<6;i++)
;;;875    				{
;;;876    					set_limit[i] = '\0';
;;;877    				}
;;;878    			}
;;;879    			
;;;880    			TEXT_SetText(hItem,set_limit);
;;;881    //            switch(bit){
;;;882    //                case 1:
;;;883    //                {
;;;884    //					for(i=0;i<6;i++)
;;;885    //					{
;;;886    //						set_limit[i] = '\0';
;;;887    //					}
;;;888    //                    pow_v = atoi(num) * 100;
;;;889    //                    strcat(set_limit,num);            
;;;890    //                    TEXT_SetText(hItem,set_limit);
;;;891    //                    bit = 2;
;;;892    //                    break;
;;;893    //                }
;;;894    //                case 2:
;;;895    //                {
;;;896    //                    strcat(set_limit,num);
;;;897    //					if(set_limit[bit-1] == 0x62){
;;;898    //						set_limit[bit-1] = '\0';
;;;899    //						set_limit[bit-2] = '\0';
;;;900    //						bit -= 1;
;;;901    //						pow_v = pow_v - atoi(num) * 100;
;;;902    //						TEXT_SetText(hItem,set_limit);
;;;903    //						break;
;;;904    //					}
;;;905    //                    if(set_limit[1] == 0x2e)//判断输入是否为小数点
;;;906    //                    {
;;;907    //                        dot_flag = 1;
;;;908    //                    }else{
;;;909    //                        pow_v = pow_v * 10 + atoi(num) * 100;
;;;910    //                    }           
;;;911    //                    TEXT_SetText(hItem,set_limit);
;;;912    //                    bit = 3;
;;;913    //                    break;
;;;914    //                }
;;;915    //                case 3:
;;;916    //                {
;;;917    //                    strcat(set_limit,num);
;;;918    //					if(set_limit[bit-1] == 0x62){
;;;919    //						set_limit[bit-1] = '\0';
;;;920    //						set_limit[bit-2] = '\0';
;;;921    //						bit -= 1;
;;;922    //						TEXT_SetText(hItem,set_limit);
;;;923    //						break;
;;;924    //					}
;;;925    //                    if(dot_flag == 0)
;;;926    //                    {
;;;927    //                        if(set_limit[2] == 0x2e)//判断输入是否为小数点
;;;928    //                        {                            
;;;929    //                            dot_flag = 2;
;;;930    //                        }else{
;;;931    //                            pow_v = /*3000*/ 6200;
;;;932    //                        }
;;;933    //                    }else{
;;;934    //						pow_v = pow_v + atoi(num) * 10;
;;;935    //                    }
;;;936    //                    TEXT_SetText(hItem,set_limit);                  
;;;937    //                    bit = 4;
;;;938    //                    break;
;;;939    //                }
;;;940    //                case 4:
;;;941    //                {
;;;942    //                    strcat(set_limit,num);
;;;943    //					if(set_limit[bit-1] == 0x62){
;;;944    //						set_limit[bit-1] = '\0';
;;;945    //						set_limit[bit-2] = '\0';
;;;946    //						bit -= 1;
;;;947    //						TEXT_SetText(hItem,set_limit);
;;;948    //						pow_v = pow_v - atoi(num) * 10;
;;;949    //						break;
;;;950    //					}
;;;951    //                    if(dot_flag == 0)
;;;952    //                    {
;;;953    //                        pow_v = /*3000*/ 6200;
;;;954    //                    }else if(dot_flag == 2){
;;;955    //                        pow_v = pow_v + atoi(num) * 10;
;;;956    //                    }else{
;;;957    //                        pow_v = pow_v + atoi(num);
;;;958    //                    }
;;;959    //                    TEXT_SetText(hItem,set_limit);                   
;;;960    //                    bit = 5;
;;;961    //                    break;
;;;962    //                }
;;;963    //                case 5:
;;;964    //                {
;;;965    //                    strcat(set_limit,num);
;;;966    //					if(set_limit[bit-1] == 0x62){
;;;967    //						set_limit[bit-1] = '\0';
;;;968    //						set_limit[bit-2] = '\0';
;;;969    //						bit -= 1;
;;;970    //						TEXT_SetText(hItem,set_limit);
;;;971    //						break;
;;;972    //					}
;;;973    //                    if(dot_flag == 0)
;;;974    //                    {
;;;975    //                        pow_v = /*3000*/ 6200;
;;;976    //                    }else if(dot_flag == 1){
;;;977    //                        pow_v = pow_v;
;;;978    //                    }else{
;;;979    //                        pow_v = pow_v + atoi(num);
;;;980    //                    }
;;;981    //                    TEXT_SetText(hItem,set_limit);                   
;;;982    //                    bit = 0;
;;;983    //                    break;
;;;984    //                }
;;;985    //            }
;;;986                break;
;;;987            }
;;;988            case set_19:
;;;989            {
;;;990                WM_HWIN hItem;
;;;991    //            WM_InvalidateWindow(hWinWind);
;;;992                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_42);
;;;993    			if(bit < 6)
;;;994    			{
;;;995    				strcat(set_limit,num);
;;;996    				if(dot_flag != 0 && strcmp(num,".") == 0)
;;;997    				{
;;;998    					
;;;999    				}else{			
;;;1000   					
;;;1001   					if(dot_flag == 0 && strcmp(num,".") == 0)
;;;1002   					{
;;;1003   						dot_flag = bit;
;;;1004   					}
;;;1005   					bit ++;
;;;1006   				}
;;;1007   			}else{
;;;1008   				bit = 0;
;;;1009   				for(i=0;i<6;i++)
;;;1010   				{
;;;1011   					set_limit[i] = '\0';
;;;1012   				}
;;;1013   			}
;;;1014   			TEXT_SetText(hItem,set_limit);
;;;1015   //            switch(bit){
;;;1016   //                case 1:
;;;1017   //                {
;;;1018   //					for(i=0;i<6;i++)
;;;1019   //					{
;;;1020   //						set_limit[i] = '\0';
;;;1021   //					}
;;;1022   //                    pow_c = atoi(num) * 1000;
;;;1023   //                    strcat(set_limit,num);            
;;;1024   //                    TEXT_SetText(hItem,set_limit);
;;;1025   //                    bit = 2;
;;;1026   //                    break;
;;;1027   //                }
;;;1028   //                case 2:
;;;1029   //                {
;;;1030   //                    strcat(set_limit,num);            
;;;1031   //                    TEXT_SetText(hItem,set_limit);
;;;1032   //                    if(set_limit[1] == 0x2e)//判断输入是否为小数点
;;;1033   //                    {
;;;1034   //                        dot_flag = 1;
;;;1035   //                    }else{
;;;1036   //                        pow_c = pow_c * 10 + atoi(num) * 1000;
;;;1037   //                    }
;;;1038   //                    bit = 3;
;;;1039   //                    break;
;;;1040   //                }
;;;1041   //                case 3:
;;;1042   //                {
;;;1043   //                    strcat(set_limit,num);
;;;1044   //                    TEXT_SetText(hItem,set_limit);
;;;1045   //                    if(dot_flag == 0)
;;;1046   //                    {
;;;1047   //                        if(set_limit[2] == 0x2e)//判断输入是否为小数点
;;;1048   //                        {                            
;;;1049   //                            dot_flag = 2;
;;;1050   //                        }else{
;;;1051   //                            pow_c = 5000;
;;;1052   //                        }
;;;1053   //                    }else{
;;;1054   //                        pow_c = pow_c + atoi(num) * 100;
;;;1055   //                    }
;;;1056   //                                       
;;;1057   //                    bit = 4;
;;;1058   //                    break;
;;;1059   //                }
;;;1060   //                case 4:
;;;1061   //                {
;;;1062   //                    strcat(set_limit,num);
;;;1063   //                    TEXT_SetText(hItem,set_limit);
;;;1064   //                    if(dot_flag == 0)
;;;1065   //                    {
;;;1066   //                        pow_c = 5000;
;;;1067   //                    }else if(dot_flag == 2){
;;;1068   //                        pow_c = pow_c + atoi(num) * 100;
;;;1069   //                    }else{
;;;1070   //                        pow_c = pow_c + atoi(num) * 10;
;;;1071   //                    }
;;;1072   //                                       
;;;1073   //                    bit = 5;
;;;1074   //                    break;
;;;1075   //                }
;;;1076   //                case 5:
;;;1077   //                {
;;;1078   //                    strcat(set_limit,num);
;;;1079   //                    TEXT_SetText(hItem,set_limit);
;;;1080   //                    if(dot_flag == 0)
;;;1081   //                    {
;;;1082   //                        pow_c = 5000;
;;;1083   //                    }else if(dot_flag == 1){
;;;1084   //                        pow_c = pow_c + atoi(num);
;;;1085   //                    }else{
;;;1086   //                        pow_c = pow_c + atoi(num) * 10;
;;;1087   //                    }
;;;1088   //                                       
;;;1089   //                    bit = 6;
;;;1090   //                    break;
;;;1091   //                }
;;;1092   //                case 6:
;;;1093   //                {
;;;1094   //                    strcat(set_limit,num);
;;;1095   //                    TEXT_SetText(hItem,set_limit);
;;;1096   //                    if(dot_flag == 0)
;;;1097   //                    {
;;;1098   //                        pow_c = 0;
;;;1099   //                    }else if(dot_flag == 2){
;;;1100   //                        pow_c = pow_c + atoi(num);
;;;1101   //                    }                 
;;;1102   //                    bit = 0;
;;;1103   //                    break;
;;;1104   //                }
;;;1105   //            }
;;;1106           }
;;;1107           break;
;;;1108   		case set_89:
;;;1109           {
;;;1110               WM_HWIN hItem;
;;;1111   //            WM_InvalidateWindow(hWinWind);
;;;1112               hItem = WM_GetDialogItem(hWinWind, ID_TEXT_144);
000022  f640112e          MOV      r1,#0x92e
000026  6850              LDR      r0,[r2,#4]  ; hWinWind
000028  f7fffffe          BL       WM_GetDialogItem
00002c  4606              MOV      r6,r0
;;;1113   			if(bit < 7)
00002e  7838              LDRB     r0,[r7,#0]  ; bit
000030  2807              CMP      r0,#7
000032  d267              BCS      |L3.260|
;;;1114   			{
;;;1115   				strcat(set_limit,num);
000034  4649              MOV      r1,r9
000036  4628              MOV      r0,r5
000038  f7fffffe          BL       strcat
;;;1116   				if(dot_flag != 0 && strcmp(num,".") == 0)
00003c  f8980000          LDRB     r0,[r8,#0]  ; dot_flag
000040  b128              CBZ      r0,|L3.78|
000042  a14a              ADR      r1,|L3.364|
000044  4648              MOV      r0,r9
000046  f7fffffe          BL       strcmp
00004a  2800              CMP      r0,#0
00004c  d07b              BEQ      |L3.326|
                  |L3.78|
;;;1117   				{
;;;1118   					
;;;1119   				}else{			
;;;1120   					
;;;1121   					if(dot_flag == 0 && strcmp(num,".") == 0)
00004e  f8980000          LDRB     r0,[r8,#0]  ; dot_flag
000052  2800              CMP      r0,#0
000054  d064              BEQ      |L3.288|
000056  e06b              B        |L3.304|
                  |L3.88|
000058  f6400166          MOV      r1,#0x866             ;857
00005c  6850              LDR      r0,[r2,#4]            ;857  ; hWinWind
00005e  f7fffffe          BL       WM_GetDialogItem
000062  4606              MOV      r6,r0                 ;857
000064  7838              LDRB     r0,[r7,#0]            ;858  ; bit
000066  2806              CMP      r0,#6                 ;858
000068  d21a              BCS      |L3.160|
00006a  4649              MOV      r1,r9                 ;860
00006c  483e              LDR      r0,|L3.360|
00006e  f7fffffe          BL       strcat
000072  f8980000          LDRB     r0,[r8,#0]            ;861  ; dot_flag
000076  b120              CBZ      r0,|L3.130|
000078  a13c              ADR      r1,|L3.364|
00007a  4648              MOV      r0,r9                 ;861
00007c  f7fffffe          BL       strcmp
000080  b1a8              CBZ      r0,|L3.174|
                  |L3.130|
000082  f8980000          LDRB     r0,[r8,#0]            ;866  ; dot_flag
000086  b938              CBNZ     r0,|L3.152|
000088  a138              ADR      r1,|L3.364|
00008a  4648              MOV      r0,r9                 ;866
00008c  f7fffffe          BL       strcmp
000090  b910              CBNZ     r0,|L3.152|
000092  7838              LDRB     r0,[r7,#0]            ;868  ; bit
000094  f8880000          STRB     r0,[r8,#0]            ;868
                  |L3.152|
000098  7838              LDRB     r0,[r7,#0]            ;870  ; bit
00009a  1c40              ADDS     r0,r0,#1              ;870
00009c  7038              STRB     r0,[r7,#0]            ;870
00009e  e006              B        |L3.174|
                  |L3.160|
0000a0  703c              STRB     r4,[r7,#0]            ;873
0000a2  2000              MOVS     r0,#0                 ;874
                  |L3.164|
0000a4  542c              STRB     r4,[r5,r0]            ;876
0000a6  1c40              ADDS     r0,r0,#1              ;874
0000a8  b2c0              UXTB     r0,r0                 ;874
0000aa  2806              CMP      r0,#6                 ;874
0000ac  d3fa              BCC      |L3.164|
                  |L3.174|
0000ae  4630              MOV      r0,r6                 ;880
0000b0  e8bd47f0          POP      {r4-r10,lr}           ;880
0000b4  492c              LDR      r1,|L3.360|
0000b6  f7ffbffe          B.W      TEXT_SetText
                  |L3.186|
0000ba  f6400167          MOV      r1,#0x867             ;992
0000be  6850              LDR      r0,[r2,#4]            ;992  ; hWinWind
0000c0  f7fffffe          BL       WM_GetDialogItem
0000c4  4606              MOV      r6,r0                 ;992
0000c6  7838              LDRB     r0,[r7,#0]            ;993  ; bit
0000c8  2806              CMP      r0,#6                 ;993
0000ca  d21c              BCS      |L3.262|
0000cc  4649              MOV      r1,r9                 ;995
0000ce  4826              LDR      r0,|L3.360|
0000d0  f7fffffe          BL       strcat
0000d4  f8980000          LDRB     r0,[r8,#0]            ;996  ; dot_flag
0000d8  b120              CBZ      r0,|L3.228|
0000da  a124              ADR      r1,|L3.364|
0000dc  4648              MOV      r0,r9                 ;996
0000de  f7fffffe          BL       strcmp
0000e2  b1b8              CBZ      r0,|L3.276|
                  |L3.228|
0000e4  f8980000          LDRB     r0,[r8,#0]            ;1001  ; dot_flag
0000e8  b938              CBNZ     r0,|L3.250|
0000ea  a120              ADR      r1,|L3.364|
0000ec  4648              MOV      r0,r9                 ;1001
0000ee  f7fffffe          BL       strcmp
0000f2  b910              CBNZ     r0,|L3.250|
0000f4  7838              LDRB     r0,[r7,#0]            ;1003  ; bit
0000f6  f8880000          STRB     r0,[r8,#0]            ;1003
                  |L3.250|
0000fa  7838              LDRB     r0,[r7,#0]            ;1005  ; bit
0000fc  1c40              ADDS     r0,r0,#1              ;1005
0000fe  7038              STRB     r0,[r7,#0]            ;1005
000100  e008              B        |L3.276|
                  |L3.258|
000102  e026              B        |L3.338|
                  |L3.260|
000104  e018              B        |L3.312|
                  |L3.262|
000106  703c              STRB     r4,[r7,#0]            ;1008
000108  2000              MOVS     r0,#0                 ;1009
                  |L3.266|
00010a  542c              STRB     r4,[r5,r0]            ;1011
00010c  1c40              ADDS     r0,r0,#1              ;1009
00010e  b2c0              UXTB     r0,r0                 ;1009
000110  2806              CMP      r0,#6                 ;1009
000112  d3fa              BCC      |L3.266|
                  |L3.276|
000114  4630              MOV      r0,r6                 ;1014
000116  e8bd47f0          POP      {r4-r10,lr}           ;1014
00011a  4913              LDR      r1,|L3.360|
00011c  f7ffbffe          B.W      TEXT_SetText
                  |L3.288|
000120  a112              ADR      r1,|L3.364|
000122  4648              MOV      r0,r9
000124  f7fffffe          BL       strcmp
000128  b910              CBNZ     r0,|L3.304|
;;;1122   					{
;;;1123   						dot_flag = bit;
00012a  7838              LDRB     r0,[r7,#0]  ; bit
00012c  f8880000          STRB     r0,[r8,#0]
                  |L3.304|
;;;1124   					}
;;;1125   					bit ++;
000130  7838              LDRB     r0,[r7,#0]  ; bit
000132  1c40              ADDS     r0,r0,#1
000134  7038              STRB     r0,[r7,#0]
000136  e006              B        |L3.326|
                  |L3.312|
;;;1126   				}
;;;1127   			}else{
;;;1128   				bit = 0;
000138  703c              STRB     r4,[r7,#0]
;;;1129   				for(i=0;i<6;i++)
00013a  2000              MOVS     r0,#0
                  |L3.316|
;;;1130   				{
;;;1131   					set_limit[i] = '\0';
00013c  542c              STRB     r4,[r5,r0]
00013e  1c40              ADDS     r0,r0,#1              ;1129
000140  b2c0              UXTB     r0,r0                 ;1129
000142  2806              CMP      r0,#6                 ;1129
000144  d3fa              BCC      |L3.316|
                  |L3.326|
;;;1132   				}
;;;1133   			}
;;;1134   			TEXT_SetText(hItem,set_limit);
000146  4630              MOV      r0,r6
000148  e8bd47f0          POP      {r4-r10,lr}
00014c  4906              LDR      r1,|L3.360|
00014e  f7ffbffe          B.W      TEXT_SetText
                  |L3.338|
;;;1135   //            switch(bit){
;;;1136   //                case 1:
;;;1137   //                {
;;;1138   //					for(i=0;i<6;i++)
;;;1139   //					{
;;;1140   //						set_limit[i] = '\0';
;;;1141   //					}
;;;1142   //                    set_pow_cutoffc = atoi(num) * 1000;
;;;1143   //                    strcat(set_limit,num);            
;;;1144   //                    TEXT_SetText(hItem,set_limit);
;;;1145   //                    bit = 2;
;;;1146   //                    break;
;;;1147   //                }
;;;1148   //                case 2:
;;;1149   //                {
;;;1150   //                    strcat(set_limit,num);            
;;;1151   //                    TEXT_SetText(hItem,set_limit);
;;;1152   //                    if(set_limit[1] == 0x2e)//判断输入是否为小数点
;;;1153   //                    {
;;;1154   //                        dot_flag = 1;
;;;1155   //                    }else{
;;;1156   //                        set_pow_cutoffc = set_pow_cutoffc * 10 + atoi(num) * 1000;
;;;1157   //                    }
;;;1158   //                    bit = 3;
;;;1159   //                    break;
;;;1160   //                }
;;;1161   //                case 3:
;;;1162   //                {
;;;1163   //                    strcat(set_limit,num);
;;;1164   //                    TEXT_SetText(hItem,set_limit);
;;;1165   //                    if(dot_flag == 0)
;;;1166   //                    {
;;;1167   //                        if(set_limit[2] == 0x2e)//判断输入是否为小数点
;;;1168   //                        {                            
;;;1169   //                            dot_flag = 2;
;;;1170   //                        }else{
;;;1171   //                            set_pow_cutoffc = 5000;
;;;1172   //                        }
;;;1173   //                    }else{
;;;1174   //                        set_pow_cutoffc = set_pow_cutoffc + atoi(num) * 100;
;;;1175   //                    }
;;;1176   //                                       
;;;1177   //                    bit = 4;
;;;1178   //                    break;
;;;1179   //                }
;;;1180   //                case 4:
;;;1181   //                {
;;;1182   //                    strcat(set_limit,num);
;;;1183   //                    TEXT_SetText(hItem,set_limit);
;;;1184   //                    if(dot_flag == 0)
;;;1185   //                    {
;;;1186   //                        set_pow_cutoffc = 5000;
;;;1187   //                    }else if(dot_flag == 2){
;;;1188   //                        set_pow_cutoffc = set_pow_cutoffc + atoi(num) * 100;
;;;1189   //                    }else{
;;;1190   //                        set_pow_cutoffc = set_pow_cutoffc + atoi(num) * 10;
;;;1191   //                    }
;;;1192   //                                       
;;;1193   //                    bit = 5;
;;;1194   //                    break;
;;;1195   //                }
;;;1196   //                case 5:
;;;1197   //                {
;;;1198   //                    strcat(set_limit,num);
;;;1199   //                    TEXT_SetText(hItem,set_limit);
;;;1200   //                    if(dot_flag == 0)
;;;1201   //                    {
;;;1202   //                        set_pow_cutoffc = 5000;
;;;1203   //                    }else if(dot_flag == 1){
;;;1204   //                        set_pow_cutoffc = set_pow_cutoffc + atoi(num);
;;;1205   //                    }else{
;;;1206   //                        set_pow_cutoffc = set_pow_cutoffc + atoi(num) * 10;
;;;1207   //                    }
;;;1208   //                                       
;;;1209   //                    bit = 6;
;;;1210   //                    break;
;;;1211   //                }
;;;1212   //                case 6:
;;;1213   //                {
;;;1214   //                    strcat(set_limit,num);
;;;1215   //                    TEXT_SetText(hItem,set_limit);
;;;1216   //                    if(dot_flag == 0)
;;;1217   //                    {
;;;1218   //                        set_pow_cutoffc = 0;
;;;1219   //                    }else if(dot_flag == 2){
;;;1220   //                        set_pow_cutoffc = set_pow_cutoffc + atoi(num);
;;;1221   //                    }                 
;;;1222   //                    bit = 0;
;;;1223   //                    break;
;;;1224   //                }
;;;1225   //            }
;;;1226           }
;;;1227           break;
;;;1228       }    
;;;1229   }
000152  e8bd87f0          POP      {r4-r10,pc}
;;;1230   
                          ENDP

000156  0000              DCW      0x0000
                  |L3.344|
                          DCD      set_sw
                  |L3.348|
                          DCD      ||.data||
                  |L3.352|
                          DCD      dot_flag
                  |L3.356|
                          DCD      bit
                  |L3.360|
                          DCD      set_limit
                  |L3.364|
00016c  2e00              DCB      ".",0
00016e  00                DCB      0
00016f  00                DCB      0

                          AREA ||i.MENU_OP_DOWN||, CODE, READONLY, ALIGN=2

                  MENU_OP_DOWN PROC
;;;528    void MENU_OP_DOWN(void);
;;;529    void MENU_OP_DOWN(void)
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;530    {
;;;531        switch(set_sw)
000004  4c25              LDR      r4,|L4.156|
000006  7820              LDRB     r0,[r4,#0]  ; set_sw
;;;532        {
;;;533            case set_10:
;;;534            {
;;;535                WM_HWIN hItem;
;;;536                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_33);
000008  4d25              LDR      r5,|L4.160|
;;;537                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//选项背景色设为透明
;;;538                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;539                
;;;540                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_34);
;;;541                TEXT_SetBkColor(hItem,0x00BFFFFF);//选项背景色设为米色
00000a  4e26              LDR      r6,|L4.164|
00000c  f06f4770          MVN      r7,#0xf0000000        ;537
000010  f06f487f          MVN      r8,#0xff000000        ;538
000014  f640093e          MOV      r9,#0x83e             ;540
000018  2809              CMP      r0,#9                 ;531
00001a  d020              BEQ      |L4.94|
00001c  280a              CMP      r0,#0xa               ;531
00001e  d11c              BNE      |L4.90|
;;;542                TEXT_SetTextColor(hItem, GUI_BLACK);
;;;543    
;;;544                set_sw = set_11;
;;;545                break;
;;;546            }
;;;547            case set_11:
;;;548            {
;;;549                WM_HWIN hItem;
;;;550    //            WM_InvalidateWindow(hWinWind);
;;;551                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_34);
000020  4649              MOV      r1,r9
000022  6868              LDR      r0,[r5,#4]  ; hWinWind
000024  f7fffffe          BL       WM_GetDialogItem
000028  4681              MOV      r9,r0
;;;552                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//选项背景色设为透明
00002a  4639              MOV      r1,r7
00002c  4648              MOV      r0,r9
00002e  f7fffffe          BL       TEXT_SetBkColor
;;;553                TEXT_SetTextColor(hItem, GUI_WHITE);
000032  4641              MOV      r1,r8
000034  4648              MOV      r0,r9
000036  f7fffffe          BL       TEXT_SetTextColor
;;;554                
;;;555                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_159);
00003a  f640113a          MOV      r1,#0x93a
00003e  6868              LDR      r0,[r5,#4]  ; hWinWind
000040  f7fffffe          BL       WM_GetDialogItem
000044  4605              MOV      r5,r0
;;;556                TEXT_SetBkColor(hItem,0x00BFFFFF);//选项背景色设为米色
000046  4631              MOV      r1,r6
000048  4628              MOV      r0,r5
00004a  f7fffffe          BL       TEXT_SetBkColor
;;;557                TEXT_SetTextColor(hItem, GUI_BLACK);
00004e  2100              MOVS     r1,#0
000050  4628              MOV      r0,r5
000052  f7fffffe          BL       TEXT_SetTextColor
;;;558    
;;;559                set_sw = set_88;
000056  2057              MOVS     r0,#0x57
000058  7020              STRB     r0,[r4,#0]
                  |L4.90|
;;;560                break;
;;;561            }                     
;;;562            default: break;
;;;563        }
;;;564    }
00005a  e8bd87f0          POP      {r4-r10,pc}
                  |L4.94|
00005e  f640013d          MOV      r1,#0x83d             ;536
000062  6868              LDR      r0,[r5,#4]            ;536  ; hWinWind
000064  f7fffffe          BL       WM_GetDialogItem
000068  4682              MOV      r10,r0                ;536
00006a  4639              MOV      r1,r7                 ;537
00006c  4650              MOV      r0,r10                ;537
00006e  f7fffffe          BL       TEXT_SetBkColor
000072  4641              MOV      r1,r8                 ;538
000074  4650              MOV      r0,r10                ;538
000076  f7fffffe          BL       TEXT_SetTextColor
00007a  4649              MOV      r1,r9                 ;540
00007c  6868              LDR      r0,[r5,#4]            ;540  ; hWinWind
00007e  f7fffffe          BL       WM_GetDialogItem
000082  4605              MOV      r5,r0                 ;540
000084  4631              MOV      r1,r6                 ;541
000086  4628              MOV      r0,r5                 ;541
000088  f7fffffe          BL       TEXT_SetBkColor
00008c  2100              MOVS     r1,#0                 ;542
00008e  4628              MOV      r0,r5                 ;542
000090  f7fffffe          BL       TEXT_SetTextColor
000094  200a              MOVS     r0,#0xa               ;544
000096  7020              STRB     r0,[r4,#0]            ;544
000098  e7df              B        |L4.90|
;;;565    
                          ENDP

00009a  0000              DCW      0x0000
                  |L4.156|
                          DCD      set_sw
                  |L4.160|
                          DCD      ||.data||
                  |L4.164|
                          DCD      0x00bfffff

                          AREA ||i.MENU_OP_UP||, CODE, READONLY, ALIGN=2

                  MENU_OP_UP PROC
;;;566    void MENU_OP_UP(void);
;;;567    void MENU_OP_UP(void)
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;568    {
;;;569        switch(set_sw)
000004  4c25              LDR      r4,|L5.156|
000006  7820              LDRB     r0,[r4,#0]  ; set_sw
;;;570        {
;;;571            case set_11:
;;;572    		{
;;;573    			 WM_HWIN hItem;
;;;574    //                 WM_InvalidateWindow(hWinWind);
;;;575    			 hItem = WM_GetDialogItem(hWinWind, ID_TEXT_34);
000008  4d25              LDR      r5,|L5.160|
;;;576    			 TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//选项背景色设为透明
;;;577    			 TEXT_SetTextColor(hItem, GUI_WHITE);
;;;578    		   
;;;579    			 hItem = WM_GetDialogItem(hWinWind, ID_TEXT_33);
;;;580    			 TEXT_SetBkColor(hItem,0x00BFFFFF);//选项背景色设为米色
00000a  4e26              LDR      r6,|L5.164|
00000c  f640093e          MOV      r9,#0x83e             ;575
000010  f06f4770          MVN      r7,#0xf0000000        ;576
000014  f06f487f          MVN      r8,#0xff000000        ;577
000018  280a              CMP      r0,#0xa               ;569
00001a  d020              BEQ      |L5.94|
00001c  2857              CMP      r0,#0x57              ;569
00001e  d11c              BNE      |L5.90|
;;;581    			 TEXT_SetTextColor(hItem, GUI_BLACK);
;;;582    
;;;583    			 set_sw = set_10;
;;;584    			 break;
;;;585    		 } 
;;;586    		case set_88:
;;;587    		{
;;;588    			 WM_HWIN hItem;
;;;589    //                 WM_InvalidateWindow(hWinWind);
;;;590    			 hItem = WM_GetDialogItem(hWinWind, ID_TEXT_159);
000020  f640113a          MOV      r1,#0x93a
000024  6868              LDR      r0,[r5,#4]  ; hWinWind
000026  f7fffffe          BL       WM_GetDialogItem
00002a  4682              MOV      r10,r0
;;;591    			 TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//选项背景色设为透明
00002c  4639              MOV      r1,r7
00002e  4650              MOV      r0,r10
000030  f7fffffe          BL       TEXT_SetBkColor
;;;592    			 TEXT_SetTextColor(hItem, GUI_WHITE);
000034  4641              MOV      r1,r8
000036  4650              MOV      r0,r10
000038  f7fffffe          BL       TEXT_SetTextColor
;;;593    		   
;;;594    			 hItem = WM_GetDialogItem(hWinWind, ID_TEXT_34);
00003c  4649              MOV      r1,r9
00003e  6868              LDR      r0,[r5,#4]  ; hWinWind
000040  f7fffffe          BL       WM_GetDialogItem
000044  4605              MOV      r5,r0
;;;595    			 TEXT_SetBkColor(hItem,0x00BFFFFF);//选项背景色设为米色
000046  4631              MOV      r1,r6
000048  4628              MOV      r0,r5
00004a  f7fffffe          BL       TEXT_SetBkColor
;;;596    			 TEXT_SetTextColor(hItem, GUI_BLACK);
00004e  2100              MOVS     r1,#0
000050  4628              MOV      r0,r5
000052  f7fffffe          BL       TEXT_SetTextColor
;;;597    
;;;598    			 set_sw = set_11;
000056  200a              MOVS     r0,#0xa
000058  7020              STRB     r0,[r4,#0]
                  |L5.90|
;;;599    			 break;
;;;600    		 }                     
;;;601    		 default: break;
;;;602        }
;;;603    }
00005a  e8bd87f0          POP      {r4-r10,pc}
                  |L5.94|
00005e  4649              MOV      r1,r9                 ;575
000060  6868              LDR      r0,[r5,#4]            ;575  ; hWinWind
000062  f7fffffe          BL       WM_GetDialogItem
000066  4681              MOV      r9,r0                 ;575
000068  4639              MOV      r1,r7                 ;576
00006a  4648              MOV      r0,r9                 ;576
00006c  f7fffffe          BL       TEXT_SetBkColor
000070  4641              MOV      r1,r8                 ;577
000072  4648              MOV      r0,r9                 ;577
000074  f7fffffe          BL       TEXT_SetTextColor
000078  f640013d          MOV      r1,#0x83d             ;579
00007c  6868              LDR      r0,[r5,#4]            ;579  ; hWinWind
00007e  f7fffffe          BL       WM_GetDialogItem
000082  4605              MOV      r5,r0                 ;579
000084  4631              MOV      r1,r6                 ;580
000086  4628              MOV      r0,r5                 ;580
000088  f7fffffe          BL       TEXT_SetBkColor
00008c  2100              MOVS     r1,#0                 ;581
00008e  4628              MOV      r0,r5                 ;581
000090  f7fffffe          BL       TEXT_SetTextColor
000094  2009              MOVS     r0,#9                 ;583
000096  7020              STRB     r0,[r4,#0]            ;583
000098  e7df              B        |L5.90|
;;;604    
                          ENDP

00009a  0000              DCW      0x0000
                  |L5.156|
                          DCD      set_sw
                  |L5.160|
                          DCD      ||.data||
                  |L5.164|
                          DCD      0x00bfffff

                          AREA ||i.MENU_SET||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_f
                          REQUIRE _printf_fp_dec
                  MENU_SET PROC
;;;606    void MENU_SET(void);
;;;607    void MENU_SET(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;608    {
000004  ed2d8b04          VPUSH    {d8-d9}
000008  b085              SUB      sp,sp,#0x14
;;;609        vu8 i;
;;;610        char buf[6];    
;;;611    
;;;612        float dis_output_v;
;;;613        float dis_output_c; 
;;;614        
;;;615        if(SET_Voltage > /*3000*/ 6200)
00000a  f8df8414          LDR      r8,|L6.1056|
00000e  f8d80004          LDR      r0,[r8,#4]  ; Run_Control
000012  f6410b38          MOV      r11,#0x1838
000016  4558              CMP      r0,r11
000018  d901              BLS      |L6.30|
;;;616        {
;;;617          SET_Voltage = /*3000*/ 6200;
00001a  f8c8b004          STR      r11,[r8,#4]  ; Run_Control
                  |L6.30|
;;;618        }
;;;619        if(SET_Current > 5000)
00001e  f8d80008          LDR      r0,[r8,#8]  ; Run_Control
000022  f2413688          MOV      r6,#0x1388
000026  42b0              CMP      r0,r6
000028  d901              BLS      |L6.46|
;;;620        {
;;;621          SET_Current = 5000;
00002a  f8c86008          STR      r6,[r8,#8]  ; Run_Control
                  |L6.46|
;;;622        }
;;;623        switch(set_sw){
00002e  4dfd              LDR      r5,|L6.1060|
000030  7829              LDRB     r1,[r5,#0]  ; set_sw
;;;624            case set_10:
;;;625            {
;;;626                WM_HWIN hItem;
;;;627    //            WM_InvalidateWindow(hWinWind);
;;;628                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_33);
;;;629                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//选项背景色设为透明
;;;630                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;631                       
;;;632                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_41);
;;;633                TEXT_SetBkColor(hItem,0x00BFFFFF);//选项背景色设为米色
;;;634                TEXT_SetTextColor(hItem, GUI_BLACK);
;;;635                for(i=0;i<6;i++)
;;;636                {
;;;637                    set_limit[i] = '\0';
;;;638                }
;;;639    
;;;640                set_sw = set_18;
;;;641                break;                        
;;;642            }
;;;643            case set_18:
;;;644            {           
;;;645                WM_HWIN hItem;
;;;646    //            WM_InvalidateWindow(hWinWind);
;;;647                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_41);
;;;648                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//选项背景色设为透明
;;;649                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;650    			if(dot_flag == 0){
;;;651    				pow_v = atoi(set_limit)*100;					
;;;652    			}else if(dot_flag != 0){
;;;653    				memset(buf, '\0', sizeof(buf));
;;;654    				strncpy(buf,set_limit,dot_flag + 3);
;;;655    				pow_v = atof(buf)*100;
;;;656    			}
;;;657    			if(pow_v > 6200)
;;;658    			{
;;;659    				pow_v = 6200;
;;;660    			}
;;;661                SET_Voltage = pow_v;
;;;662                if(SET_Voltage/100 * SET_Current/1000 > 250)
;;;663                {
;;;664                    SET_Voltage = 0;
;;;665                }
;;;666                dis_output_v = (float)SET_Voltage/100;
;;;667                
;;;668                sprintf(buf,"%.2f",dis_output_v);
;;;669                TEXT_SetText(hItem,buf);
;;;670                
;;;671                                                                         
;;;672                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_33);
;;;673                TEXT_SetBkColor(hItem,0x00BFFFFF);//选项背景色设为米色
;;;674                TEXT_SetTextColor(hItem, GUI_BLACK);
;;;675                                
;;;676                Write_Limits();
;;;677                set_sw = set_10;
;;;678                bit = 0;
000032  f8df93f4          LDR      r9,|L6.1064|
;;;679                dot_flag = 0;
;;;680                break; 
;;;681             }
;;;682             case set_11:
;;;683             {
;;;684                WM_HWIN hItem;
;;;685    //            WM_InvalidateWindow(hWinWind);
;;;686                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_34);
;;;687                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//选项背景色设为透明
;;;688                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;689                                    
;;;690                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_42);
;;;691                TEXT_SetBkColor(hItem,0x00BFFFFF);//选项背景色设为米色
;;;692                TEXT_SetTextColor(hItem, GUI_BLACK);
;;;693                for(i=0;i<6;i++)
;;;694                {
;;;695                    set_limit[i] = '\0';
;;;696                }
;;;697    
;;;698                set_sw = set_19;
;;;699                break;                        
;;;700             }
;;;701             case set_19:
;;;702             {           
;;;703                WM_HWIN hItem;
;;;704    //            WM_InvalidateWindow(hWinWind);
;;;705                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_42);
;;;706                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//选项背景色设为透明
;;;707                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;708    			if(dot_flag == 0){
;;;709    				pow_c = atoi(set_limit)*1000;					
;;;710    			}else if(dot_flag != 0){
;;;711    				memset(buf, '\0', sizeof(buf));
;;;712    				strncpy(buf,set_limit,dot_flag + 4);
;;;713    				pow_c = atof(buf)*1000;
000036  ed9f9bfd          VLDR     d9,|L6.1068|
;;;714    			}
;;;715                  
;;;716                if(pow_c > 5000)
;;;717                {
;;;718                    pow_c = 5000;               
;;;719                }
;;;720    			SET_Current = pow_c;
;;;721                if(SET_Voltage/100 * SET_Current/1000 > 250)
;;;722                {
;;;723                    SET_Current = 0;
;;;724                }
;;;725                dis_output_c = (float)SET_Current/1000;
00003a  ed9f8afe          VLDR     s16,|L6.1076|
00003e  f8dfa3f8          LDR      r10,|L6.1080|
000042  48fe              LDR      r0,|L6.1084|
000044  2400              MOVS     r4,#0                 ;628
000046  4ffe              LDR      r7,|L6.1088|
000048  2912              CMP      r1,#0x12              ;623
00004a  d07d              BEQ      |L6.328|
00004c  dc7d              BGT      |L6.330|
00004e  f6400666          MOV      r6,#0x866             ;632
000052  2909              CMP      r1,#9                 ;623
000054  d07a              BEQ      |L6.332|
000056  290a              CMP      r1,#0xa               ;623
000058  d079              BEQ      |L6.334|
00005a  2911              CMP      r1,#0x11              ;623
00005c  d172              BNE      |L6.324|
00005e  4682              MOV      r10,r0                ;647
000060  4631              MOV      r1,r6                 ;647
000062  6840              LDR      r0,[r0,#4]            ;647  ; hWinWind
000064  f7fffffe          BL       WM_GetDialogItem
000068  4606              MOV      r6,r0                 ;647
00006a  f06f4170          MVN      r1,#0xf0000000        ;648
00006e  4630              MOV      r0,r6                 ;648
000070  f7fffffe          BL       TEXT_SetBkColor
000074  f06f417f          MVN      r1,#0xff000000        ;649
000078  4630              MOV      r0,r6                 ;649
00007a  f7fffffe          BL       TEXT_SetTextColor
00007e  7838              LDRB     r0,[r7,#0]            ;650  ; dot_flag
000080  2800              CMP      r0,#0                 ;650
000082  d065              BEQ      |L6.336|
000084  7838              LDRB     r0,[r7,#0]            ;652  ; dot_flag
000086  b1b0              CBZ      r0,|L6.182|
000088  9402              STR      r4,[sp,#8]            ;653
00008a  9403              STR      r4,[sp,#0xc]          ;653
00008c  783a              LDRB     r2,[r7,#0]            ;654  ; dot_flag
00008e  49ea              LDR      r1,|L6.1080|
000090  1cd2              ADDS     r2,r2,#3              ;654
000092  a802              ADD      r0,sp,#8              ;654
000094  f7fffffe          BL       strncpy
000098  a802              ADD      r0,sp,#8              ;655
00009a  f7fffffe          BL       __hardfp_atof
00009e  ed9f1be9          VLDR     d1,|L6.1092|
0000a2  ec510b10          VMOV     r0,r1,d0              ;655
0000a6  ec532b11          VMOV     r2,r3,d1              ;655
0000aa  f7fffffe          BL       __aeabi_dmul
0000ae  f7fffffe          BL       __aeabi_d2uiz
0000b2  f8c80098          STR      r0,[r8,#0x98]         ;655  ; Run_Control
                  |L6.182|
0000b6  f8d80098          LDR      r0,[r8,#0x98]         ;657  ; Run_Control
0000ba  4558              CMP      r0,r11                ;657
0000bc  d901              BLS      |L6.194|
0000be  f8c8b098          STR      r11,[r8,#0x98]        ;659  ; Run_Control
                  |L6.194|
0000c2  f8d80098          LDR      r0,[r8,#0x98]         ;661  ; Run_Control
0000c6  f8c80004          STR      r0,[r8,#4]            ;661  ; Run_Control
0000ca  f8d81004          LDR      r1,[r8,#4]            ;662  ; Run_Control
0000ce  2064              MOVS     r0,#0x64              ;662
0000d0  fbb1f0f0          UDIV     r0,r1,r0              ;662
0000d4  f8d81008          LDR      r1,[r8,#8]            ;662  ; Run_Control
0000d8  4348              MULS     r0,r1,r0              ;662
0000da  49dc              LDR      r1,|L6.1100|
0000dc  4288              CMP      r0,r1                 ;662
0000de  d901              BLS      |L6.228|
0000e0  f8c84004          STR      r4,[r8,#4]            ;664  ; Run_Control
                  |L6.228|
0000e4  f8d80004          LDR      r0,[r8,#4]            ;666  ; Run_Control
0000e8  ee000a10          VMOV     s0,r0                 ;666
0000ec  eef80a40          VCVT.F32.U32 s1,s0                 ;666
0000f0  ed9f1ad7          VLDR     s2,|L6.1104|
0000f4  ee800a81          VDIV.F32 s0,s1,s2              ;666
0000f8  ee100a10          VMOV     r0,s0                 ;668
0000fc  f7fffffe          BL       __aeabi_f2d
000100  ec410b10          VMOV     d0,r0,r1              ;668
000104  a1d3              ADR      r1,|L6.1108|
000106  ec532b10          VMOV     r2,r3,d0              ;668
00010a  a802              ADD      r0,sp,#8              ;668
00010c  f7fffffe          BL       __2sprintf
000110  a902              ADD      r1,sp,#8              ;669
000112  4630              MOV      r0,r6                 ;669
000114  f7fffffe          BL       TEXT_SetText
000118  f640013d          MOV      r1,#0x83d             ;672
00011c  f8da0004          LDR      r0,[r10,#4]           ;672  ; hWinWind
000120  f7fffffe          BL       WM_GetDialogItem
000124  4606              MOV      r6,r0                 ;672
000126  49cd              LDR      r1,|L6.1116|
000128  4630              MOV      r0,r6                 ;673
00012a  f7fffffe          BL       TEXT_SetBkColor
00012e  2100              MOVS     r1,#0                 ;674
000130  4630              MOV      r0,r6                 ;674
000132  f7fffffe          BL       TEXT_SetTextColor
000136  f7fffffe          BL       Write_Limits
00013a  2009              MOVS     r0,#9                 ;677
00013c  7028              STRB     r0,[r5,#0]            ;677
00013e  f8894000          STRB     r4,[r9,#0]            ;678
000142  703c              STRB     r4,[r7,#0]            ;679
                  |L6.324|
;;;726                sprintf(buf,"%.3f",dis_output_c);
;;;727                TEXT_SetText(hItem,buf);            
;;;728                       
;;;729                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_34);
;;;730                TEXT_SetBkColor(hItem,0x00BFFFFF);//选项背景色设为米色
;;;731                TEXT_SetTextColor(hItem, GUI_BLACK);
;;;732                                                     
;;;733                Write_Limits();
;;;734                set_sw = set_11;
;;;735                bit = 0;
;;;736                dot_flag = 0;
;;;737                break; 
;;;738             }
;;;739    		 case set_88:
;;;740             {
;;;741                WM_HWIN hItem;
;;;742    //            WM_InvalidateWindow(hWinWind);
;;;743                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_159);
;;;744                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//选项背景色设为透明
;;;745                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;746                                    
;;;747                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_144);
;;;748                TEXT_SetBkColor(hItem,0x00BFFFFF);//选项背景色设为米色
;;;749                TEXT_SetTextColor(hItem, GUI_BLACK);
;;;750                for(i=0;i<6;i++)
;;;751                {
;;;752                    set_limit[i] = '\0';
;;;753                }
;;;754    
;;;755                set_sw = set_89;
;;;756                break;                        
;;;757             }
;;;758             case set_89:
;;;759             {           
;;;760                WM_HWIN hItem;
;;;761    //            WM_InvalidateWindow(hWinWind);
;;;762                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_144);
;;;763                TEXT_SetBkColor(hItem,GUI_INVALID_COLOR);//选项背景色设为透明
;;;764                TEXT_SetTextColor(hItem, GUI_WHITE);
;;;765    			if(dot_flag == 0){
;;;766    				set_pow_cutoffc = atoi(set_limit)*1000;					
;;;767    			}else if(dot_flag != 0){
;;;768    				memset(buf, '\0', sizeof(buf));
;;;769    				strncpy(buf,set_limit,dot_flag + 4);
;;;770    				set_pow_cutoffc = atof(buf)*1000;
;;;771    			}
;;;772                if(set_pow_cutoffc > 5000)
;;;773                {
;;;774                    set_pow_cutoffc = 5000;               
;;;775                }
;;;776                pow_cutoffc = (float)set_pow_cutoffc/1000;
;;;777                sprintf(buf,"%.3f",pow_cutoffc);
;;;778                TEXT_SetText(hItem,buf);            
;;;779                       
;;;780                hItem = WM_GetDialogItem(hWinWind, ID_TEXT_159);
;;;781                TEXT_SetBkColor(hItem,0x00BFFFFF);//选项背景色设为米色
;;;782                TEXT_SetTextColor(hItem, GUI_BLACK);
;;;783                                                     
;;;784                Flash_Write32BitDatas(FLASH_USER_START_ADDR,40, InFlashSave);
;;;785                set_sw = set_88;
;;;786                bit = 0;
;;;787                dot_flag = 0;
;;;788                break; 
;;;789             }
;;;790             default:break;
;;;791         }
;;;792    }
000144  b005              ADD      sp,sp,#0x14
000146  e004              B        |L6.338|
                  |L6.328|
000148  e0dc              B        |L6.772|
                  |L6.330|
00014a  e006              B        |L6.346|
                  |L6.332|
00014c  e070              B        |L6.560|
                  |L6.334|
00014e  e0a9              B        |L6.676|
                  |L6.336|
000150  e0a0              B        |L6.660|
                  |L6.338|
000152  ecbd8b04          VPOP     {d8-d9}
000156  e8bd8ff0          POP      {r4-r11,pc}
                  |L6.346|
00015a  f6401b3a          MOV      r11,#0x93a            ;743
00015e  f640182e          MOV      r8,#0x92e             ;747
000162  2957              CMP      r1,#0x57              ;623
000164  d07d              BEQ      |L6.610|
000166  2958              CMP      r1,#0x58              ;623
000168  d1ec              BNE      |L6.324|
00016a  4682              MOV      r10,r0                ;762
00016c  4641              MOV      r1,r8                 ;762
00016e  6840              LDR      r0,[r0,#4]            ;762  ; hWinWind
000170  f7fffffe          BL       WM_GetDialogItem
000174  9001              STR      r0,[sp,#4]            ;762
000176  f06f4170          MVN      r1,#0xf0000000        ;763
00017a  9801              LDR      r0,[sp,#4]            ;763
00017c  f7fffffe          BL       TEXT_SetBkColor
000180  f06f417f          MVN      r1,#0xff000000        ;764
000184  9801              LDR      r0,[sp,#4]            ;764
000186  f7fffffe          BL       TEXT_SetTextColor
00018a  7838              LDRB     r0,[r7,#0]            ;765  ; dot_flag
00018c  f8df82d0          LDR      r8,|L6.1120|
000190  2800              CMP      r0,#0                 ;765
000192  d067              BEQ      |L6.612|
000194  7838              LDRB     r0,[r7,#0]            ;767  ; dot_flag
000196  b1a0              CBZ      r0,|L6.450|
000198  9402              STR      r4,[sp,#8]            ;768
00019a  9403              STR      r4,[sp,#0xc]          ;768
00019c  783a              LDRB     r2,[r7,#0]            ;769  ; dot_flag
00019e  49a6              LDR      r1,|L6.1080|
0001a0  1d12              ADDS     r2,r2,#4              ;769
0001a2  a802              ADD      r0,sp,#8              ;769
0001a4  f7fffffe          BL       strncpy
0001a8  a802              ADD      r0,sp,#8              ;770
0001aa  f7fffffe          BL       __hardfp_atof
0001ae  ec532b19          VMOV     r2,r3,d9              ;770
0001b2  ec510b10          VMOV     r0,r1,d0              ;770
0001b6  f7fffffe          BL       __aeabi_dmul
0001ba  f7fffffe          BL       __aeabi_d2iz
0001be  f8c80014          STR      r0,[r8,#0x14]         ;770  ; InFlashSave
                  |L6.450|
0001c2  f8d80014          LDR      r0,[r8,#0x14]         ;772  ; InFlashSave
0001c6  42b0              CMP      r0,r6                 ;772
0001c8  dd01              BLE      |L6.462|
0001ca  f8c86014          STR      r6,[r8,#0x14]         ;774  ; InFlashSave
                  |L6.462|
0001ce  ed980a05          VLDR     s0,[r8,#0x14]         ;776
0001d2  eef80ac0          VCVT.F32.S32 s1,s0                 ;776
0001d6  ee800a88          VDIV.F32 s0,s1,s16             ;776
0001da  ed8a0a02          VSTR     s0,[r10,#8]           ;776
0001de  ee100a10          VMOV     r0,s0                 ;777
0001e2  f7fffffe          BL       __aeabi_f2d
0001e6  ec410b10          VMOV     d0,r0,r1              ;777
0001ea  a19e              ADR      r1,|L6.1124|
0001ec  ec532b10          VMOV     r2,r3,d0              ;777
0001f0  a802              ADD      r0,sp,#8              ;777
0001f2  f7fffffe          BL       __2sprintf
0001f6  a902              ADD      r1,sp,#8              ;778
0001f8  9801              LDR      r0,[sp,#4]            ;778
0001fa  f7fffffe          BL       TEXT_SetText
0001fe  4659              MOV      r1,r11                ;780
000200  f8da0004          LDR      r0,[r10,#4]           ;780  ; hWinWind
000204  f7fffffe          BL       WM_GetDialogItem
000208  4606              MOV      r6,r0                 ;780
00020a  4994              LDR      r1,|L6.1116|
00020c  4630              MOV      r0,r6                 ;781
00020e  f7fffffe          BL       TEXT_SetBkColor
000212  2100              MOVS     r1,#0                 ;782
000214  4630              MOV      r0,r6                 ;782
000216  f7fffffe          BL       TEXT_SetTextColor
00021a  4a91              LDR      r2,|L6.1120|
00021c  2128              MOVS     r1,#0x28              ;784
00021e  4893              LDR      r0,|L6.1132|
000220  f7fffffe          BL       Flash_Write32BitDatas
000224  2057              MOVS     r0,#0x57              ;785
000226  7028              STRB     r0,[r5,#0]            ;785
000228  f8894000          STRB     r4,[r9,#0]            ;786
00022c  703c              STRB     r4,[r7,#0]            ;787
00022e  e789              B        |L6.324|
                  |L6.560|
000230  4607              MOV      r7,r0                 ;628
000232  f640013d          MOV      r1,#0x83d             ;628
000236  6840              LDR      r0,[r0,#4]            ;628  ; hWinWind
000238  f7fffffe          BL       WM_GetDialogItem
00023c  4680              MOV      r8,r0                 ;628
00023e  f06f4170          MVN      r1,#0xf0000000        ;629
000242  4640              MOV      r0,r8                 ;629
000244  f7fffffe          BL       TEXT_SetBkColor
000248  f06f417f          MVN      r1,#0xff000000        ;630
00024c  4640              MOV      r0,r8                 ;630
00024e  f7fffffe          BL       TEXT_SetTextColor
000252  4631              MOV      r1,r6                 ;632
000254  6878              LDR      r0,[r7,#4]            ;632  ; hWinWind
000256  f7fffffe          BL       WM_GetDialogItem
00025a  4606              MOV      r6,r0                 ;632
00025c  497f              LDR      r1,|L6.1116|
00025e  4630              MOV      r0,r6                 ;633
000260  e001              B        |L6.614|
                  |L6.610|
000262  e0ca              B        |L6.1018|
                  |L6.612|
000264  e120              B        |L6.1192|
                  |L6.614|
000266  f7fffffe          BL       TEXT_SetBkColor
00026a  2100              MOVS     r1,#0                 ;634
00026c  4630              MOV      r0,r6                 ;634
00026e  f7fffffe          BL       TEXT_SetTextColor
000272  9404              STR      r4,[sp,#0x10]         ;635
000274  e007              B        |L6.646|
                  |L6.630|
000276  f89d0010          LDRB     r0,[sp,#0x10]         ;637
00027a  f80a4000          STRB     r4,[r10,r0]           ;637
00027e  f89d0010          LDRB     r0,[sp,#0x10]         ;635
000282  1c40              ADDS     r0,r0,#1              ;635
000284  9004              STR      r0,[sp,#0x10]         ;635
                  |L6.646|
000286  f89d0010          LDRB     r0,[sp,#0x10]         ;635
00028a  2806              CMP      r0,#6                 ;635
00028c  d3f3              BCC      |L6.630|
00028e  2011              MOVS     r0,#0x11              ;640
000290  7028              STRB     r0,[r5,#0]            ;640
000292  e757              B        |L6.324|
                  |L6.660|
000294  4868              LDR      r0,|L6.1080|
000296  f7fffffe          BL       atoi
00029a  2164              MOVS     r1,#0x64              ;651
00029c  4348              MULS     r0,r1,r0              ;651
00029e  f8c80098          STR      r0,[r8,#0x98]         ;651  ; Run_Control
0002a2  e708              B        |L6.182|
                  |L6.676|
0002a4  4606              MOV      r6,r0                 ;686
0002a6  f640013e          MOV      r1,#0x83e             ;686
0002aa  6840              LDR      r0,[r0,#4]            ;686  ; hWinWind
0002ac  f7fffffe          BL       WM_GetDialogItem
0002b0  4607              MOV      r7,r0                 ;686
0002b2  f06f4170          MVN      r1,#0xf0000000        ;687
0002b6  4638              MOV      r0,r7                 ;687
0002b8  f7fffffe          BL       TEXT_SetBkColor
0002bc  f06f417f          MVN      r1,#0xff000000        ;688
0002c0  4638              MOV      r0,r7                 ;688
0002c2  f7fffffe          BL       TEXT_SetTextColor
0002c6  f6400167          MOV      r1,#0x867             ;690
0002ca  6870              LDR      r0,[r6,#4]            ;690  ; hWinWind
0002cc  f7fffffe          BL       WM_GetDialogItem
0002d0  4606              MOV      r6,r0                 ;690
0002d2  4962              LDR      r1,|L6.1116|
0002d4  4630              MOV      r0,r6                 ;691
0002d6  f7fffffe          BL       TEXT_SetBkColor
0002da  2100              MOVS     r1,#0                 ;692
0002dc  4630              MOV      r0,r6                 ;692
0002de  f7fffffe          BL       TEXT_SetTextColor
0002e2  9404              STR      r4,[sp,#0x10]         ;693
0002e4  e007              B        |L6.758|
                  |L6.742|
0002e6  f89d0010          LDRB     r0,[sp,#0x10]         ;695
0002ea  f80a4000          STRB     r4,[r10,r0]           ;695
0002ee  f89d0010          LDRB     r0,[sp,#0x10]         ;693
0002f2  1c40              ADDS     r0,r0,#1              ;693
0002f4  9004              STR      r0,[sp,#0x10]         ;693
                  |L6.758|
0002f6  f89d0010          LDRB     r0,[sp,#0x10]         ;693
0002fa  2806              CMP      r0,#6                 ;693
0002fc  d3f3              BCC      |L6.742|
0002fe  2012              MOVS     r0,#0x12              ;698
000300  7028              STRB     r0,[r5,#0]            ;698
000302  e71f              B        |L6.324|
                  |L6.772|
000304  4682              MOV      r10,r0                ;705
000306  f6400167          MOV      r1,#0x867             ;705
00030a  6840              LDR      r0,[r0,#4]            ;705  ; hWinWind
00030c  f7fffffe          BL       WM_GetDialogItem
000310  4683              MOV      r11,r0                ;705
000312  f06f4170          MVN      r1,#0xf0000000        ;706
000316  4658              MOV      r0,r11                ;706
000318  f7fffffe          BL       TEXT_SetBkColor
00031c  f06f417f          MVN      r1,#0xff000000        ;707
000320  4658              MOV      r0,r11                ;707
000322  f7fffffe          BL       TEXT_SetTextColor
000326  7838              LDRB     r0,[r7,#0]            ;708  ; dot_flag
000328  b3f0              CBZ      r0,|L6.936|
00032a  7838              LDRB     r0,[r7,#0]            ;710  ; dot_flag
00032c  b1a0              CBZ      r0,|L6.856|
00032e  9402              STR      r4,[sp,#8]            ;711
000330  9403              STR      r4,[sp,#0xc]          ;711
000332  783a              LDRB     r2,[r7,#0]            ;712  ; dot_flag
000334  4940              LDR      r1,|L6.1080|
000336  1d12              ADDS     r2,r2,#4              ;712
000338  a802              ADD      r0,sp,#8              ;712
00033a  f7fffffe          BL       strncpy
00033e  a802              ADD      r0,sp,#8              ;713
000340  f7fffffe          BL       __hardfp_atof
000344  ec532b19          VMOV     r2,r3,d9              ;713
000348  ec510b10          VMOV     r0,r1,d0              ;713
00034c  f7fffffe          BL       __aeabi_dmul
000350  f7fffffe          BL       __aeabi_d2uiz
000354  f8c800a0          STR      r0,[r8,#0xa0]         ;713  ; Run_Control
                  |L6.856|
000358  f8d800a0          LDR      r0,[r8,#0xa0]         ;716  ; Run_Control
00035c  42b0              CMP      r0,r6                 ;716
00035e  d901              BLS      |L6.868|
000360  f8c860a0          STR      r6,[r8,#0xa0]         ;718  ; Run_Control
                  |L6.868|
000364  f8d800a0          LDR      r0,[r8,#0xa0]         ;720  ; Run_Control
000368  f8c80008          STR      r0,[r8,#8]            ;720  ; Run_Control
00036c  f8d81004          LDR      r1,[r8,#4]            ;721  ; Run_Control
000370  2064              MOVS     r0,#0x64              ;721
000372  fbb1f0f0          UDIV     r0,r1,r0              ;721
000376  f8d81008          LDR      r1,[r8,#8]            ;721  ; Run_Control
00037a  4348              MULS     r0,r1,r0              ;721
00037c  4933              LDR      r1,|L6.1100|
00037e  4288              CMP      r0,r1                 ;721
000380  d901              BLS      |L6.902|
000382  f8c84008          STR      r4,[r8,#8]            ;723  ; Run_Control
                  |L6.902|
000386  f8d80008          LDR      r0,[r8,#8]            ;725  ; Run_Control
00038a  ee000a10          VMOV     s0,r0                 ;725
00038e  eef80a40          VCVT.F32.U32 s1,s0                 ;725
000392  ee800a88          VDIV.F32 s0,s1,s16             ;725
000396  ee100a10          VMOV     r0,s0                 ;726
00039a  f7fffffe          BL       __aeabi_f2d
00039e  ec410b10          VMOV     d0,r0,r1              ;726
0003a2  ec532b10          VMOV     r2,r3,d0              ;726
0003a6  e000              B        |L6.938|
                  |L6.936|
0003a8  e01e              B        |L6.1000|
                  |L6.938|
0003aa  a12e              ADR      r1,|L6.1124|
0003ac  a802              ADD      r0,sp,#8              ;726
0003ae  f7fffffe          BL       __2sprintf
0003b2  a902              ADD      r1,sp,#8              ;727
0003b4  4658              MOV      r0,r11                ;727
0003b6  f7fffffe          BL       TEXT_SetText
0003ba  f640013e          MOV      r1,#0x83e             ;729
0003be  f8da0004          LDR      r0,[r10,#4]           ;729  ; hWinWind
0003c2  f7fffffe          BL       WM_GetDialogItem
0003c6  4606              MOV      r6,r0                 ;729
0003c8  4924              LDR      r1,|L6.1116|
0003ca  4630              MOV      r0,r6                 ;730
0003cc  f7fffffe          BL       TEXT_SetBkColor
0003d0  2100              MOVS     r1,#0                 ;731
0003d2  4630              MOV      r0,r6                 ;731
0003d4  f7fffffe          BL       TEXT_SetTextColor
0003d8  f7fffffe          BL       Write_Limits
0003dc  200a              MOVS     r0,#0xa               ;734
0003de  7028              STRB     r0,[r5,#0]            ;734
0003e0  f8894000          STRB     r4,[r9,#0]            ;735
0003e4  703c              STRB     r4,[r7,#0]            ;736
0003e6  e6ad              B        |L6.324|
                  |L6.1000|
0003e8  4813              LDR      r0,|L6.1080|
0003ea  f7fffffe          BL       atoi
0003ee  f44f717a          MOV      r1,#0x3e8             ;709
0003f2  4348              MULS     r0,r1,r0              ;709
0003f4  f8c800a0          STR      r0,[r8,#0xa0]         ;709  ; Run_Control
0003f8  e7ae              B        |L6.856|
                  |L6.1018|
0003fa  4606              MOV      r6,r0                 ;743
0003fc  4659              MOV      r1,r11                ;743
0003fe  6840              LDR      r0,[r0,#4]            ;743  ; hWinWind
000400  f7fffffe          BL       WM_GetDialogItem
000404  4607              MOV      r7,r0                 ;743
000406  f06f4170          MVN      r1,#0xf0000000        ;744
00040a  4638              MOV      r0,r7                 ;744
00040c  f7fffffe          BL       TEXT_SetBkColor
000410  f06f417f          MVN      r1,#0xff000000        ;745
000414  4638              MOV      r0,r7                 ;745
000416  f7fffffe          BL       TEXT_SetTextColor
00041a  4641              MOV      r1,r8                 ;747
00041c  6870              LDR      r0,[r6,#4]            ;747  ; hWinWind
00041e  e027              B        |L6.1136|
                  |L6.1056|
                          DCD      Run_Control
                  |L6.1060|
                          DCD      set_sw
                  |L6.1064|
                          DCD      bit
                  |L6.1068|
00042c  00000000          DCFD     0x408f400000000000 ; 1000
000430  408f4000
                  |L6.1076|
000434  447a0000          DCFS     0x447a0000 ; 1000
                  |L6.1080|
                          DCD      set_limit
                  |L6.1084|
                          DCD      ||.data||
                  |L6.1088|
                          DCD      dot_flag
                  |L6.1092|
000444  00000000          DCFD     0x4059000000000000 ; 100
000448  40590000
                  |L6.1100|
                          DCD      0x0003d477
                  |L6.1104|
000450  42c80000          DCFS     0x42c80000 ; 100
                  |L6.1108|
000454  252e3266          DCB      "%.2f",0
000458  00      
000459  00                DCB      0
00045a  00                DCB      0
00045b  00                DCB      0
                  |L6.1116|
                          DCD      0x00bfffff
                  |L6.1120|
                          DCD      InFlashSave
                  |L6.1124|
000464  252e3366          DCB      "%.3f",0
000468  00      
000469  00                DCB      0
00046a  00                DCB      0
00046b  00                DCB      0
                  |L6.1132|
                          DCD      0x080e0000
                  |L6.1136|
000470  f7fffffe          BL       WM_GetDialogItem
000474  4606              MOV      r6,r0                 ;747
000476  4911              LDR      r1,|L6.1212|
000478  4630              MOV      r0,r6                 ;748
00047a  f7fffffe          BL       TEXT_SetBkColor
00047e  2100              MOVS     r1,#0                 ;749
000480  4630              MOV      r0,r6                 ;749
000482  f7fffffe          BL       TEXT_SetTextColor
000486  9404              STR      r4,[sp,#0x10]         ;750
000488  e007              B        |L6.1178|
                  |L6.1162|
00048a  f89d0010          LDRB     r0,[sp,#0x10]         ;752
00048e  f80a4000          STRB     r4,[r10,r0]           ;752
000492  f89d0010          LDRB     r0,[sp,#0x10]         ;750
000496  1c40              ADDS     r0,r0,#1              ;750
000498  9004              STR      r0,[sp,#0x10]         ;750
                  |L6.1178|
00049a  f89d0010          LDRB     r0,[sp,#0x10]         ;750
00049e  2806              CMP      r0,#6                 ;750
0004a0  d3f3              BCC      |L6.1162|
0004a2  2058              MOVS     r0,#0x58              ;755
0004a4  7028              STRB     r0,[r5,#0]            ;755
0004a6  e64d              B        |L6.324|
                  |L6.1192|
0004a8  4805              LDR      r0,|L6.1216|
0004aa  f7fffffe          BL       atoi
0004ae  f44f717a          MOV      r1,#0x3e8             ;766
0004b2  4348              MULS     r0,r1,r0              ;766
0004b4  f8c80014          STR      r0,[r8,#0x14]         ;766  ; InFlashSave
0004b8  e683              B        |L6.450|
;;;793    void DEL_POW(void)
                          ENDP

0004ba  0000              DCW      0x0000
                  |L6.1212|
                          DCD      0x00bfffff
                  |L6.1216|
                          DCD      set_limit

                          AREA ||i.ResetPow||, CODE, READONLY, ALIGN=2

                  ResetPow PROC
;;;520    
;;;521    WM_HWIN ResetPow(void) {
000000  b51c              PUSH     {r2-r4,lr}
;;;522        hWinWind = GUI_CreateDialogBox(_aDialogCreate1, GUI_COUNTOF(_aDialogCreate1), _cbDialog, WM_HBKWIN, 0, 0);
000002  f7fffffe          BL       WM_GetDesktopWindow
000006  4603              MOV      r3,r0
000008  2000              MOVS     r0,#0
00000a  9000              STR      r0,[sp,#0]
00000c  9001              STR      r0,[sp,#4]
00000e  4a04              LDR      r2,|L7.32|
000010  2116              MOVS     r1,#0x16
000012  4804              LDR      r0,|L7.36|
000014  f7fffffe          BL       GUI_CreateDialogBox
000018  4903              LDR      r1,|L7.40|
00001a  6048              STR      r0,[r1,#4]  ; hWinWind
;;;523    //    WM_InvalidateWindow(hWinWind);
;;;524        return hWinWind;
;;;525    }
00001c  bd1c              POP      {r2-r4,pc}
;;;526    
                          ENDP

00001e  0000              DCW      0x0000
                  |L7.32|
                          DCD      _cbDialog
                  |L7.36|
                          DCD      ||.constdata||
                  |L7.40|
                          DCD      ||.data||

                          AREA ||i._cbDialog||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_f
                          REQUIRE _printf_fp_dec
                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_flags
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                  _cbDialog PROC
;;;82     
;;;83     static void _cbDialog(WM_MESSAGE * pMsg) {
000000  e92d4ff0          PUSH     {r4-r11,lr}
000004  ed2d8b04          VPUSH    {d8-d9}
000008  b083              SUB      sp,sp,#0xc
00000a  4604              MOV      r4,r0
;;;84       WM_HWIN hItem;
;;;85       int     NCode;
;;;86       int     Id;
;;;87       static vu8 status_flash;
;;;88       char buf[5];    
;;;89     
;;;90       float dis_output_v = (float)SET_Voltage/100;
00000c  48fe              LDR      r0,|L8.1032|
00000e  6841              LDR      r1,[r0,#4]  ; Run_Control
000010  ee001a10          VMOV     s0,r1
000014  eeb80a40          VCVT.F32.U32 s0,s0
000018  eddf0afc          VLDR     s1,|L8.1036|
00001c  eec09a20          VDIV.F32 s19,s0,s1
;;;91       float dis_output_c = (float)SET_Current/1000;
000020  6880              LDR      r0,[r0,#8]  ; Run_Control
000022  ee000a10          VMOV     s0,r0
000026  eeb80a40          VCVT.F32.U32 s0,s0
00002a  eddf0af9          VLDR     s1,|L8.1040|
00002e  ee809a20          VDIV.F32 s18,s0,s1
;;;92       static u8 cdelay;
;;;93     
;;;94       
;;;95       // USER START (Optionally insert additional variables)
;;;96       // USER END
;;;97     
;;;98       switch (pMsg->MsgId) {
000032  6820              LDR      r0,[r4,#0]
;;;99     
;;;100    	case WM_PAINT://无效化重绘
;;;101    		GUI_SetColor(GUI_WHITE);//设置画笔颜色
;;;102            GUI_FillRect(0,25,480,26);//画一条实线
;;;103            GUI_SetColor(GUI_ORANGE);
;;;104            GUI_SetFont(&GUI_Fontsymbol);
;;;105            GUI_UC_SetEncodeUTF8();
;;;106            GUI_SetTextMode(GUI_TM_TRANS);//设置文本模式为底色透明
;;;107    		if(jkflag == 1)
;;;108    		{
;;;109    			GUI_DispStringAt("Jinko", 5, 1);//SET
;;;110    		}
;;;111            GUI_SetColor(GUI_WHITE);
;;;112            GUI_SetFont(&GUI_FontHZ20S);
;;;113            GUI_UC_SetEncodeUTF8();
;;;114            GUI_SetTextMode(GUI_TM_TRANS);//设置文本模式为底色透明       
;;;115            GUI_DispStringAt("测量显示", 130, 3);//SET
;;;116            GUI_SetColor(GUI_WHITE);//设置前景色为白色
;;;117    //      GUI_SetFont(&GUI_FontD24x32);//
;;;118    // 		GUI_GotoXY(95,72);//设置显示坐标
;;;119    // 		GUI_DispFloatFix(DISS_POW_Voltage,5,2);//显示电压值
;;;120    // 		GUI_GotoXY(95,140);//设置显示坐标
;;;121    // 		GUI_DispFloatFix(DISS_POW_Current,5,2);//显示电流值
;;;122            GUI_SetFont(&GUI_Font24_1);
;;;123            GUI_DispStringAt("V",435,75);
;;;124            GUI_DispStringAt("A",435,100);
;;;125            GUI_DispStringAt("A",435,150);
;;;126            
;;;127            GUI_SetFont(&GUI_FontEN40);
;;;128            GUI_SetColor(GUI_LIGHTGRAY);
000034  4ef7              LDR      r6,|L8.1044|
;;;129            GUI_DispStringAt("C:", 28, 190);
;;;130            GUI_SetColor(GUI_LIGHTGRAY);
;;;131            GUI_DispStringAt("m", 217, 196);
;;;132            GUI_DispStringAt("AH", 238, 187);
;;;133            
;;;134            GUI_SetColor(GUI_GREEN);
000036  f44f487f          MOV      r8,#0xff00
00003a  f06f497f          MVN      r9,#0xff000000        ;101
00003e  280f              CMP      r0,#0xf               ;98
000040  d015              BEQ      |L8.110|
;;;135            GUI_SetFont(&GUI_Fontunit);
;;;136            GUI_DispStringAt("°",342, 2);
;;;137            GUI_SetFont(&GUI_Font24_1);
;;;138            GUI_DispStringAt("C",350, 2);
;;;139    //        DrawLock();
;;;140    //        GUI_SetColor(GUI_WHITE);
;;;141    //        GUI_SetFont(&GUI_Fontset_font);
;;;142    //        GUI_DispStringAt("过充电压",290, 150);
;;;143    		break;
;;;144        
;;;145    	case WM_TIMER://定时模块消息
;;;146    	if(WM_GetTimerId(pMsg->Data.v) == ID_TimerTime2)
;;;147    	{
;;;148    //        lockstat2 = lockstat1;
;;;149    //        lockstat1 = lock;
;;;150    //        if(lockstat1 != lockstat2)
;;;151    //        {
;;;152    //            WM_InvalidateWindow(hWinWind);
;;;153    //        }
;;;154    //         if(clear_flag2 == 1)
;;;155    //         {
;;;156    		if(lock == 1)
;;;157    		{
;;;158    			hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_161);
;;;159    			TEXT_SetText(hItem,"锁");
;;;160    		}else{
;;;161    			hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_161);
;;;162    			TEXT_SetText(hItem,"");
;;;163    		}
;;;164                if(disloadv < 0.1)
;;;165                {
;;;166                    hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_86);
;;;167                    sprintf(buf,"%.3f",0.00);       
;;;168                    TEXT_SetText(hItem,buf);
;;;169                }else{
;;;170                    hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_86);
;;;171                    sprintf(buf,"%.3f",disloadv);       
;;;172                    TEXT_SetText(hItem,buf);
;;;173                }
;;;174    //         }else{
;;;175    //             hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_86);
;;;176    //             sprintf(buf,"%.2f",DISS_POW_Voltage);       
;;;177    //             TEXT_SetText(hItem,buf);
;;;178    //         }
;;;179            
;;;180            
;;;181           
;;;182            
;;;183    //        test_pow();
;;;184            if(pow_sw == pow_on)
;;;185            {
;;;186                battery_c = (int)bc_raw;
;;;187                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_115);
;;;188                sprintf(buf,"%05d",battery_c);      
;;;189                TEXT_SetText(hItem,buf);
;;;190                 hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_87);
;;;191                sprintf(buf,"%.3f",DISS_POW_Current);        
;;;192                TEXT_SetText(hItem,buf);
;;;193                if(status_flash == 0){
;;;194                    hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_88);
;;;195                    TEXT_SetTextColor(hItem, GUI_RED);//设置字体颜色
;;;196                    TEXT_SetFont(hItem,&GUI_FontHZ16);//设定文本字体
;;;197                    GUI_UC_SetEncodeUTF8();        
;;;198                    TEXT_SetText(hItem,"充电中");
;;;199                    status_flash = 1;
;;;200                }else{
;;;201                    hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_88);
;;;202                    TEXT_SetText(hItem,"");
;;;203                    status_flash = 0;
;;;204               }
;;;205               if(pow_cutoffc != 0 && DISS_POW_Current < pow_cutoffc && cdelay > 20)
;;;206               {
;;;207                  GPIO_ResetBits(GPIOC,GPIO_Pin_1);
;;;208                  GPIO_SetBits(GPIOC,GPIO_Pin_13);
;;;209                  mode_sw = 0;
;;;210                  pow_sw = pow_off;
;;;211                  cdelay = 0;
;;;212               }else{
;;;213                   cdelay++;
;;;214               }
;;;215            }else{
;;;216                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_88);
;;;217                TEXT_SetText(hItem,"");
;;;218                
;;;219                hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_87);
;;;220                sprintf(buf,"%.3f",0.000);        
;;;221                TEXT_SetText(hItem,buf);
;;;222                
;;;223                cdelay = 0;
;;;224            }
;;;225    //        hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_144);       
;;;226    //        sprintf(buf,"%.3f",overchargev);
;;;227    //        TEXT_SetText(hItem,buf);
;;;228            
;;;229            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_125);       
;;;230            sprintf(buf,"%.1f",temp);
000042  4ff5              LDR      r7,|L8.1048|
000044  f6401a3c          MOV      r10,#0x93c            ;158
000048  ed9f8bf4          VLDR     d8,|L8.1052|
00004c  4df5              LDR      r5,|L8.1060|
00004e  281d              CMP      r0,#0x1d              ;98
000050  d07e              BEQ      |L8.336|
000052  2826              CMP      r0,#0x26              ;98
000054  d07d              BEQ      |L8.338|
000056  f5a07080          SUB      r0,r0,#0x100          ;98
00005a  3813              SUBS     r0,r0,#0x13           ;98
00005c  d07f              BEQ      |L8.350|
;;;231            TEXT_SetText(hItem,buf);
;;;232            
;;;233    		WM_RestartTimer(pMsg->Data.v, 50);//复位定时器数值越大刷新时间越短
;;;234    	}
;;;235    	break;
;;;236      case WM_INIT_DIALOG://重绘外观
;;;237        //
;;;238        // Initialization of 'Window'
;;;239        //
;;;240            hItem = pMsg->hWin;
;;;241            WINDOW_SetBkColor(hItem, GUI_BLACK);
;;;242            WM_CreateTimer(hItem,ID_TimerTime2,1000,0);//创建本窗口定时器
;;;243        //
;;;244        // Initialization of 'Button'
;;;245        //
;;;246    //         hItem = WM_GetDialogItem(pMsg->hWin, ID_BUTTON_0);
;;;247    // 		BUTTON_SetTextColor(hItem,0,GUI_BLACK);//设置字体颜色为黑色
;;;248    // 		BUTTON_SetFont      (hItem,    &GUI_FontHZ16);//设定按钮文本字体
;;;249    // 		GUI_UC_SetEncodeUTF8();
;;;250    // 		BUTTON_SetText(hItem,"充放电");
;;;251        //
;;;252        // Initialization of 'Button'
;;;253        //
;;;254    		hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_161);
;;;255    		TEXT_SetTextColor(hItem, GUI_RED);//设置字体颜色
;;;256    		TEXT_SetFont(hItem,&GUI_FontHZ14);
;;;257    		TEXT_SetText(hItem,"");
;;;258    		
;;;259    		
;;;260            hItem = WM_GetDialogItem(pMsg->hWin, ID_BUTTON_1);
;;;261    //		BUTTON_SetTextColor(hItem,0,GUI_BLACK);//设置字体颜色为黑色
;;;262    		BUTTON_SetFont      (hItem,    &GUI_FontHZ16);//设定按钮文本字体
;;;263    		GUI_UC_SetEncodeUTF8();
;;;264            BUTTON_SetText(hItem, "内阻测试");
;;;265        //
;;;266        // Initialization of 'Button'
;;;267        //
;;;268            hItem = WM_GetDialogItem(pMsg->hWin, ID_BUTTON_2);
;;;269    //        BUTTON_SetTextColor(hItem,0,GUI_BLACK);//设置字体颜色为黑色
;;;270    		BUTTON_SetFont      (hItem,    &GUI_FontHZ16);//设定按钮文本字体
;;;271    		GUI_UC_SetEncodeUTF8();
;;;272            BUTTON_SetText(hItem, "程控负载");
;;;273        //
;;;274        // Initialization of 'Button'
;;;275        //
;;;276            hItem = WM_GetDialogItem(pMsg->hWin, ID_BUTTON_3);
;;;277            BUTTON_SetPressed(hItem,1);
;;;278    //        BUTTON_SetTextColor(hItem,0,GUI_BLACK);//设置字体颜色为黑色
;;;279    		BUTTON_SetFont      (hItem,    &GUI_FontHZ16);//设定按钮文本字体
;;;280    		GUI_UC_SetEncodeUTF8();
;;;281            BUTTON_SetText(hItem, "程控电源");
;;;282        //
;;;283        // Initialization of 'Button'
;;;284        //
;;;285            hItem = WM_GetDialogItem(pMsg->hWin, ID_BUTTON_4);
;;;286    //        BUTTON_SetTextColor(hItem,0,GUI_BLACK);//设置字体颜色为黑色
;;;287    		BUTTON_SetFont      (hItem,    &GUI_FontHZ16);//设定按钮文本字体
;;;288    		GUI_UC_SetEncodeUTF8();
;;;289            BUTTON_SetText(hItem, "充放电");
;;;290        //
;;;291        // Initialization of 'Button'
;;;292        //
;;;293            hItem = WM_GetDialogItem(pMsg->hWin, ID_BUTTON_5);
;;;294    //        BUTTON_SetTextColor(hItem,0,GUI_BLACK);//设置字体颜色为黑色
;;;295    		BUTTON_SetFont      (hItem,    &GUI_FontHZ16);//设定按钮文本字体
;;;296    		GUI_UC_SetEncodeUTF8();
;;;297            BUTTON_SetText(hItem, "曲线");
;;;298    		
;;;299    		
;;;300    		hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_9);
;;;301    		TEXT_SetTextColor(hItem, GUI_LIGHTGRAY);//设置字体颜色
;;;302            TEXT_SetFont(hItem,&GUI_FontEN40);//设定文本字体
;;;303    		GUI_UC_SetEncodeUTF8();
;;;304    		TEXT_SetText(hItem,"V:");
;;;305    		
;;;306    		hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_10);
;;;307    		TEXT_SetTextColor(hItem, GUI_LIGHTGRAY);//设置字体颜色
;;;308            TEXT_SetFont(hItem,&GUI_FontEN40);//设定文本字体
;;;309    		GUI_UC_SetEncodeUTF8();
;;;310    		TEXT_SetText(hItem,"I:");
;;;311            
;;;312            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_15);
;;;313    		TEXT_SetTextColor(hItem, GUI_LIGHTGRAY);//设置字体颜色
;;;314            TEXT_SetFont(hItem,&GUI_FontEN40);//设定文本字体
;;;315    		GUI_UC_SetEncodeUTF8();
;;;316    		TEXT_SetText(hItem,"V");
;;;317    		
;;;318    		hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_16);
;;;319    		TEXT_SetTextColor(hItem, GUI_LIGHTGRAY);//设置字体颜色
;;;320            TEXT_SetFont(hItem,&GUI_FontEN40);//设定文本字体
;;;321    		GUI_UC_SetEncodeUTF8();
;;;322    		TEXT_SetText(hItem,"A");
;;;323            
;;;324            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_33);
;;;325    		TEXT_SetTextColor(hItem, GUI_BLACK);//设置字体颜色
;;;326            TEXT_SetBkColor(hItem,0x00BFFFFF);
;;;327            TEXT_SetFont(hItem,&GUI_Fontset_font);//设定文本字体
;;;328    		GUI_UC_SetEncodeUTF8();
;;;329    		TEXT_SetText(hItem,"输出电压");        
;;;330            
;;;331            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_34);
;;;332    		TEXT_SetTextColor(hItem, GUI_WHITE);//设置字体颜色
;;;333            TEXT_SetFont(hItem,&GUI_Fontset_font);//设定文本字体
;;;334    		GUI_UC_SetEncodeUTF8();
;;;335    		TEXT_SetText(hItem,"限制电流");
;;;336    		
;;;337    		hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_159);
;;;338    		TEXT_SetTextColor(hItem, GUI_WHITE);//设置字体颜色
;;;339            TEXT_SetFont(hItem,&GUI_Fontset_font);//设定文本字体
;;;340    		GUI_UC_SetEncodeUTF8();
;;;341    		TEXT_SetText(hItem,"截止电流");
;;;342            
;;;343            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_41);
;;;344            sprintf(buf,"%.2f",dis_output_v);
;;;345    		TEXT_SetTextColor(hItem, GUI_WHITE);//设置字体颜色
;;;346            TEXT_SetFont(hItem,&GUI_Font24_1);//设定文本字体
;;;347    		GUI_UC_SetEncodeUTF8();        
;;;348    		TEXT_SetText(hItem,buf);
;;;349            
;;;350            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_42);
;;;351            sprintf(buf,"%.3f",dis_output_c);
;;;352    		TEXT_SetTextColor(hItem, GUI_WHITE);//设置字体颜色
;;;353            TEXT_SetFont(hItem,&GUI_Font24_1);//设定文本字体
;;;354    		GUI_UC_SetEncodeUTF8();        
;;;355    		TEXT_SetText(hItem,buf);
;;;356            
;;;357            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_86);
;;;358            sprintf(buf,"%.3f",0.00);
;;;359    		TEXT_SetTextColor(hItem, GUI_GREEN);//设置字体颜色
;;;360            TEXT_SetFont(hItem,&GUI_FontD24x32);//设定文本字体
;;;361    		GUI_UC_SetEncodeUTF8();        
;;;362    		TEXT_SetText(hItem,buf);
;;;363            
;;;364            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_87);
;;;365            sprintf(buf,"%.3f",0.000);
;;;366    		TEXT_SetTextColor(hItem, GUI_GREEN);//设置字体颜色
;;;367            TEXT_SetFont(hItem,&GUI_FontD24x32);//设定文本字体
;;;368    		GUI_UC_SetEncodeUTF8();        
;;;369    		TEXT_SetText(hItem,buf);
;;;370            
;;;371            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_115);
;;;372            sprintf(buf,"%05d",0);
;;;373            TEXT_SetTextColor(hItem, GUI_GREEN);//设置字体颜色
;;;374            TEXT_SetFont(hItem,&GUI_FontD24x32);//设定文本字体
;;;375            GUI_UC_SetEncodeUTF8();        
;;;376            TEXT_SetText(hItem,buf);
;;;377            
;;;378            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_125);
;;;379            TEXT_SetTextColor(hItem, GUI_GREEN);//设置字体颜色
;;;380            TEXT_SetFont(hItem,&GUI_Font24_1);//设定文本字体       
;;;381            sprintf(buf,"%.1f",temp);
;;;382            TEXT_SetText(hItem,buf);
;;;383            
;;;384            hItem = WM_GetDialogItem(pMsg->hWin, ID_TEXT_144);
;;;385            sprintf(buf,"%.3f",pow_cutoffc);
;;;386    		TEXT_SetTextColor(hItem, GUI_WHITE);//设置字体颜色
;;;387            TEXT_SetFont(hItem,&GUI_Font24_1);//设定文本字体
;;;388    		GUI_UC_SetEncodeUTF8();     
;;;389    		TEXT_SetText(hItem,buf);
;;;390            
;;;391        // USER START (Optionally insert additional code for further widget initialization)
;;;392        // USER END
;;;393        break;
;;;394      case WM_NOTIFY_PARENT:
;;;395        Id    = WM_GetId(pMsg->hWinSrc);
;;;396        NCode = pMsg->Data.v;
;;;397        switch(Id) {
;;;398        case ID_BUTTON_0: // Notifications sent by 'Button'
;;;399          switch(NCode) {
;;;400          case WM_NOTIFICATION_CLICKED:
;;;401            // USER START (Optionally insert code for reacting on notification message)
;;;402            // USER END
;;;403            break;
;;;404          case WM_NOTIFICATION_RELEASED:
;;;405            // USER START (Optionally insert code for reacting on notification message)
;;;406            // USER END
;;;407            break;
;;;408          // USER START (Optionally insert additional code for further notification handling)
;;;409          // USER END
;;;410          }
;;;411          break;
;;;412        case ID_BUTTON_1: // Notifications sent by 'Button'
;;;413          switch(NCode) {
;;;414          case WM_NOTIFICATION_CLICKED:
;;;415            // USER START (Optionally insert code for reacting on notification message)
;;;416            // USER END
;;;417            break;
;;;418          case WM_NOTIFICATION_RELEASED:
;;;419    				
;;;420            // USER START (Optionally insert code for reacting on notification message)
;;;421            // USER END
;;;422            break;
;;;423          // USER START (Optionally insert additional code for further notification handling)
;;;424          // USER END
;;;425          }
;;;426          break;
;;;427        case ID_BUTTON_2: // Notifications sent by 'Button'
;;;428          switch(NCode) {
;;;429          case WM_NOTIFICATION_CLICKED:
;;;430            // USER START (Optionally insert code for reacting on notification message)
;;;431            // USER END
;;;432            break;
;;;433          case WM_NOTIFICATION_RELEASED:
;;;434            // USER START (Optionally insert code for reacting on notification message)
;;;435            // USER END
;;;436            break;
;;;437          // USER START (Optionally insert additional code for further notification handling)
;;;438          // USER END
;;;439          }
;;;440          break;
;;;441        case ID_BUTTON_3: // Notifications sent by 'Button'
;;;442          switch(NCode) {
;;;443          case WM_NOTIFICATION_CLICKED:
;;;444            // USER START (Optionally insert code for reacting on notification message)
;;;445            // USER END
;;;446            break;
;;;447          case WM_NOTIFICATION_RELEASED:
;;;448            // USER START (Optionally insert code for reacting on notification message)
;;;449            // USER END
;;;450            break;
;;;451          // USER START (Optionally insert additional code for further notification handling)
;;;452          // USER END
;;;453          }
;;;454          break;
;;;455        case ID_BUTTON_4: // Notifications sent by 'Button'
;;;456          switch(NCode) {
;;;457          case WM_NOTIFICATION_CLICKED:
;;;458            // USER START (Optionally insert code for reacting on notification message)
;;;459            // USER END
;;;460            break;
;;;461          case WM_NOTIFICATION_RELEASED:
;;;462            // USER START (Optionally insert code for reacting on notification message)
;;;463            // USER END
;;;464            break;
;;;465          // USER START (Optionally insert additional code for further notification handling)
;;;466          // USER END
;;;467          }
;;;468          break;
;;;469        case ID_BUTTON_5: // Notifications sent by 'Button'
;;;470          switch(NCode) {
;;;471          case WM_NOTIFICATION_CLICKED:
;;;472            // USER START (Optionally insert code for reacting on notification message)
;;;473            // USER END
;;;474            break;
;;;475          case WM_NOTIFICATION_RELEASED:
;;;476            // USER START (Optionally insert code for reacting on notification message)
;;;477            // USER END
;;;478            break;
;;;479          // USER START (Optionally insert additional code for further notification handling)
;;;480          // USER END
;;;481          }
;;;482          break;
;;;483        // USER START (Optionally insert additional code for further Ids)
;;;484        // USER END
;;;485        }
;;;486        break;
;;;487      // USER START (Optionally insert additional message handling)
;;;488      // USER END
;;;489      default:
;;;490        WM_DefaultProc(pMsg);
00005e  4620              MOV      r0,r4
000060  f7fffffe          BL       WM_DefaultProc
                  |L8.100|
;;;491        break;
;;;492      }
;;;493    }
000064  b003              ADD      sp,sp,#0xc
000066  ecbd8b04          VPOP     {d8-d9}
00006a  e8bd8ff0          POP      {r4-r11,pc}
                  |L8.110|
00006e  4648              MOV      r0,r9                 ;101
000070  f7fffffe          BL       GUI_SetColor
000074  231a              MOVS     r3,#0x1a              ;102
000076  f44f72f0          MOV      r2,#0x1e0             ;102
00007a  2119              MOVS     r1,#0x19              ;102
00007c  2000              MOVS     r0,#0                 ;102
00007e  f7fffffe          BL       GUI_FillRect
000082  f24a50ff          MOV      r0,#0xa5ff            ;103
000086  f7fffffe          BL       GUI_SetColor
00008a  48e7              LDR      r0,|L8.1064|
00008c  f7fffffe          BL       GUI_SetFont
000090  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000094  2002              MOVS     r0,#2                 ;106
000096  f7fffffe          BL       GUI_SetTextMode
00009a  48e4              LDR      r0,|L8.1068|
00009c  7800              LDRB     r0,[r0,#0]            ;107  ; jkflag
00009e  2801              CMP      r0,#1                 ;107
0000a0  d104              BNE      |L8.172|
0000a2  2201              MOVS     r2,#1                 ;109
0000a4  2105              MOVS     r1,#5                 ;109
0000a6  a0e2              ADR      r0,|L8.1072|
0000a8  f7fffffe          BL       GUI_DispStringAt
                  |L8.172|
0000ac  4648              MOV      r0,r9                 ;111
0000ae  f7fffffe          BL       GUI_SetColor
0000b2  48e1              LDR      r0,|L8.1080|
0000b4  f7fffffe          BL       GUI_SetFont
0000b8  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0000bc  2002              MOVS     r0,#2                 ;114
0000be  f7fffffe          BL       GUI_SetTextMode
0000c2  2203              MOVS     r2,#3                 ;115
0000c4  2182              MOVS     r1,#0x82              ;115
0000c6  a0dd              ADR      r0,|L8.1084|
0000c8  f7fffffe          BL       GUI_DispStringAt
0000cc  4648              MOV      r0,r9                 ;116
0000ce  f7fffffe          BL       GUI_SetColor
0000d2  48de              LDR      r0,|L8.1100|
0000d4  f7fffffe          BL       GUI_SetFont
0000d8  f24014b3          MOV      r4,#0x1b3             ;123
0000dc  224b              MOVS     r2,#0x4b              ;123
0000de  4621              MOV      r1,r4                 ;123
0000e0  a0db              ADR      r0,|L8.1104|
0000e2  f7fffffe          BL       GUI_DispStringAt
0000e6  2264              MOVS     r2,#0x64              ;124
0000e8  4621              MOV      r1,r4                 ;124
0000ea  a0da              ADR      r0,|L8.1108|
0000ec  f7fffffe          BL       GUI_DispStringAt
0000f0  2296              MOVS     r2,#0x96              ;125
0000f2  4621              MOV      r1,r4                 ;125
0000f4  a0d7              ADR      r0,|L8.1108|
0000f6  f7fffffe          BL       GUI_DispStringAt
0000fa  48d7              LDR      r0,|L8.1112|
0000fc  f7fffffe          BL       GUI_SetFont
000100  4630              MOV      r0,r6                 ;128
000102  f7fffffe          BL       GUI_SetColor
000106  22be              MOVS     r2,#0xbe              ;129
000108  211c              MOVS     r1,#0x1c              ;129
00010a  a0d4              ADR      r0,|L8.1116|
00010c  f7fffffe          BL       GUI_DispStringAt
000110  4630              MOV      r0,r6                 ;130
000112  f7fffffe          BL       GUI_SetColor
000116  22c4              MOVS     r2,#0xc4              ;131
000118  21d9              MOVS     r1,#0xd9              ;131
00011a  a0d1              ADR      r0,|L8.1120|
00011c  f7fffffe          BL       GUI_DispStringAt
000120  22bb              MOVS     r2,#0xbb              ;132
000122  21ee              MOVS     r1,#0xee              ;132
000124  a0cf              ADR      r0,|L8.1124|
000126  f7fffffe          BL       GUI_DispStringAt
00012a  4640              MOV      r0,r8                 ;134
00012c  f7fffffe          BL       GUI_SetColor
000130  48cd              LDR      r0,|L8.1128|
000132  f7fffffe          BL       GUI_SetFont
000136  2202              MOVS     r2,#2                 ;136
000138  f44f71ab          MOV      r1,#0x156             ;136
00013c  a0cb              ADR      r0,|L8.1132|
00013e  f7fffffe          BL       GUI_DispStringAt
000142  48c2              LDR      r0,|L8.1100|
000144  f7fffffe          BL       GUI_SetFont
000148  2202              MOVS     r2,#2                 ;138
00014a  f44f71af          MOV      r1,#0x15e             ;138
00014e  e002              B        |L8.342|
                  |L8.336|
000150  e0f8              B        |L8.836|
                  |L8.338|
000152  e34a              B        |L8.2026|
000154  e003              B        |L8.350|
                  |L8.342|
000156  a0c6              ADR      r0,|L8.1136|
000158  f7fffffe          BL       GUI_DispStringAt
                  |L8.348|
00015c  e782              B        |L8.100|
                  |L8.350|
00015e  68e0              LDR      r0,[r4,#0xc]          ;146
000160  f7fffffe          BL       WM_GetTimerId
000164  2803              CMP      r0,#3                 ;146
000166  d1f9              BNE      |L8.348|
000168  48c2              LDR      r0,|L8.1140|
00016a  7800              LDRB     r0,[r0,#0]            ;156  ; lock
00016c  2801              CMP      r0,#1                 ;156
00016e  d01c              BEQ      |L8.426|
000170  4651              MOV      r1,r10                ;161
000172  6860              LDR      r0,[r4,#4]            ;161
000174  f7fffffe          BL       WM_GetDialogItem
000178  a1b3              ADR      r1,|L8.1096|
00017a  f7fffffe          BL       TEXT_SetText
                  |L8.382|
00017e  4ebe              LDR      r6,|L8.1144|
000180  49be              LDR      r1,|L8.1148|
000182  6830              LDR      r0,[r6,#0]            ;164  ; disloadv
000184  4288              CMP      r0,r1                 ;164
000186  da18              BGE      |L8.442|
000188  f6400193          MOV      r1,#0x893             ;166
00018c  6860              LDR      r0,[r4,#4]            ;166
00018e  f7fffffe          BL       WM_GetDialogItem
000192  4606              MOV      r6,r0                 ;166
000194  ec532b18          VMOV     r2,r3,d8              ;167
000198  a1b9              ADR      r1,|L8.1152|
00019a  a801              ADD      r0,sp,#4              ;167
00019c  f7fffffe          BL       __2sprintf
0001a0  a901              ADD      r1,sp,#4              ;168
0001a2  4630              MOV      r0,r6                 ;168
0001a4  f7fffffe          BL       TEXT_SetText
0001a8  e01c              B        |L8.484|
                  |L8.426|
0001aa  4651              MOV      r1,r10                ;158
0001ac  6860              LDR      r0,[r4,#4]            ;158
0001ae  f7fffffe          BL       WM_GetDialogItem
0001b2  a1b5              ADR      r1,|L8.1160|
0001b4  f7fffffe          BL       TEXT_SetText
0001b8  e7e1              B        |L8.382|
                  |L8.442|
0001ba  f6400193          MOV      r1,#0x893             ;170
0001be  6860              LDR      r0,[r4,#4]            ;170
0001c0  f7fffffe          BL       WM_GetDialogItem
0001c4  4680              MOV      r8,r0                 ;170
0001c6  6830              LDR      r0,[r6,#0]            ;171  ; disloadv
0001c8  f7fffffe          BL       __aeabi_f2d
0001cc  ec410b10          VMOV     d0,r0,r1              ;171
0001d0  a1ab              ADR      r1,|L8.1152|
0001d2  ec532b10          VMOV     r2,r3,d0              ;171
0001d6  a801              ADD      r0,sp,#4              ;171
0001d8  f7fffffe          BL       __2sprintf
0001dc  a901              ADD      r1,sp,#4              ;172
0001de  4640              MOV      r0,r8                 ;172
0001e0  f7fffffe          BL       TEXT_SetText
                  |L8.484|
0001e4  7828              LDRB     r0,[r5,#0]            ;184  ; pow_sw
0001e6  2600              MOVS     r6,#0                 ;194
0001e8  f6400a95          MOV      r10,#0x895            ;194
0001ec  2801              CMP      r0,#1                 ;184
0001ee  d031              BEQ      |L8.596|
0001f0  4651              MOV      r1,r10                ;216
0001f2  6860              LDR      r0,[r4,#4]            ;216
0001f4  f7fffffe          BL       WM_GetDialogItem
0001f8  a193              ADR      r1,|L8.1096|
0001fa  f7fffffe          BL       TEXT_SetText
0001fe  f6400194          MOV      r1,#0x894             ;219
000202  6860              LDR      r0,[r4,#4]            ;219
000204  f7fffffe          BL       WM_GetDialogItem
000208  4680              MOV      r8,r0                 ;219
00020a  ec532b18          VMOV     r2,r3,d8              ;220
00020e  a19c              ADR      r1,|L8.1152|
000210  a801              ADD      r0,sp,#4              ;220
000212  f7fffffe          BL       __2sprintf
000216  a901              ADD      r1,sp,#4              ;221
000218  4640              MOV      r0,r8                 ;221
00021a  f7fffffe          BL       TEXT_SetText
00021e  70ae              STRB     r6,[r5,#2]            ;223
                  |L8.544|
000220  f640110c          MOV      r1,#0x90c             ;229
000224  6860              LDR      r0,[r4,#4]            ;229
000226  f7fffffe          BL       WM_GetDialogItem
00022a  4605              MOV      r5,r0                 ;229
00022c  6838              LDR      r0,[r7,#0]            ;230  ; temp
00022e  f7fffffe          BL       __aeabi_f2d
000232  ec410b10          VMOV     d0,r0,r1              ;230
000236  a195              ADR      r1,|L8.1164|
000238  ec532b10          VMOV     r2,r3,d0              ;230
00023c  a801              ADD      r0,sp,#4              ;230
00023e  f7fffffe          BL       __2sprintf
000242  a901              ADD      r1,sp,#4              ;231
000244  4628              MOV      r0,r5                 ;231
000246  f7fffffe          BL       TEXT_SetText
00024a  2132              MOVS     r1,#0x32              ;233
00024c  68e0              LDR      r0,[r4,#0xc]          ;233
00024e  f7fffffe          BL       WM_RestartTimer
000252  e707              B        |L8.100|
                  |L8.596|
000254  488f              LDR      r0,|L8.1172|
000256  f8df8240          LDR      r8,|L8.1176|
00025a  ed900a00          VLDR     s0,[r0,#0]            ;186
00025e  eebd0ac0          VCVT.S32.F32 s0,s0                 ;186
000262  ee100a10          VMOV     r0,s0                 ;186
000266  f8c80000          STR      r0,[r8,#0]            ;186  ; battery_c
00026a  f640110b          MOV      r1,#0x90b             ;187
00026e  6860              LDR      r0,[r4,#4]            ;187
000270  f7fffffe          BL       WM_GetDialogItem
000274  4681              MOV      r9,r0                 ;187
000276  f8d82000          LDR      r2,[r8,#0]            ;188  ; battery_c
00027a  a188              ADR      r1,|L8.1180|
00027c  a801              ADD      r0,sp,#4              ;188
00027e  f7fffffe          BL       __2sprintf
000282  a901              ADD      r1,sp,#4              ;189
000284  4648              MOV      r0,r9                 ;189
000286  f7fffffe          BL       TEXT_SetText
00028a  f6400194          MOV      r1,#0x894             ;190
00028e  6860              LDR      r0,[r4,#4]            ;190
000290  f7fffffe          BL       WM_GetDialogItem
000294  4681              MOV      r9,r0                 ;190
000296  f8df820c          LDR      r8,|L8.1188|
00029a  f8d80000          LDR      r0,[r8,#0]            ;191  ; DISS_POW_Current
00029e  f7fffffe          BL       __aeabi_f2d
0002a2  ec410b10          VMOV     d0,r0,r1              ;191
0002a6  a176              ADR      r1,|L8.1152|
0002a8  ec532b10          VMOV     r2,r3,d0              ;191
0002ac  a801              ADD      r0,sp,#4              ;191
0002ae  f7fffffe          BL       __2sprintf
0002b2  a901              ADD      r1,sp,#4              ;192
0002b4  4648              MOV      r0,r9                 ;192
0002b6  f7fffffe          BL       TEXT_SetText
0002ba  7868              LDRB     r0,[r5,#1]            ;193  ; status_flash
0002bc  b340              CBZ      r0,|L8.784|
0002be  4651              MOV      r1,r10                ;201
0002c0  6860              LDR      r0,[r4,#4]            ;201
0002c2  f7fffffe          BL       WM_GetDialogItem
0002c6  a160              ADR      r1,|L8.1096|
0002c8  f7fffffe          BL       TEXT_SetText
0002cc  706e              STRB     r6,[r5,#1]            ;203
                  |L8.718|
0002ce  ed950a02          VLDR     s0,[r5,#8]            ;205
0002d2  eeb50ac0          VCMPE.F32 s0,#0.0               ;205
0002d6  eef1fa10          VMRS     APSR_nzcv,FPSCR       ;205
0002da  d02f              BEQ      |L8.828|
0002dc  edd80a00          VLDR     s1,[r8,#0]            ;205
0002e0  eef40ac0          VCMPE.F32 s1,s0                 ;205
0002e4  eef1fa10          VMRS     APSR_nzcv,FPSCR       ;205
0002e8  d228              BCS      |L8.828|
0002ea  78a8              LDRB     r0,[r5,#2]            ;205  ; cdelay
0002ec  2814              CMP      r0,#0x14              ;205
0002ee  d925              BLS      |L8.828|
0002f0  f8df81b4          LDR      r8,|L8.1192|
0002f4  2102              MOVS     r1,#2                 ;207
0002f6  4640              MOV      r0,r8                 ;207
0002f8  f7fffffe          BL       GPIO_ResetBits
0002fc  f44f5100          MOV      r1,#0x2000            ;208
000300  4640              MOV      r0,r8                 ;208
000302  f7fffffe          BL       GPIO_SetBits
000306  4869              LDR      r0,|L8.1196|
000308  7006              STRB     r6,[r0,#0]            ;209
00030a  702e              STRB     r6,[r5,#0]            ;210
00030c  70ae              STRB     r6,[r5,#2]            ;211
00030e  e787              B        |L8.544|
                  |L8.784|
000310  4651              MOV      r1,r10                ;194
000312  6860              LDR      r0,[r4,#4]            ;194
000314  f7fffffe          BL       WM_GetDialogItem
000318  4681              MOV      r9,r0                 ;194
00031a  21ff              MOVS     r1,#0xff              ;195
00031c  4648              MOV      r0,r9                 ;195
00031e  f7fffffe          BL       TEXT_SetTextColor
000322  4963              LDR      r1,|L8.1200|
000324  4648              MOV      r0,r9                 ;196
000326  f7fffffe          BL       TEXT_SetFont
00032a  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00032e  a161              ADR      r1,|L8.1204|
000330  4648              MOV      r0,r9                 ;198
000332  f7fffffe          BL       TEXT_SetText
000336  2001              MOVS     r0,#1                 ;199
000338  7068              STRB     r0,[r5,#1]            ;199
00033a  e7c8              B        |L8.718|
                  |L8.828|
00033c  78a8              LDRB     r0,[r5,#2]            ;213  ; cdelay
00033e  1c40              ADDS     r0,r0,#1              ;213
000340  70a8              STRB     r0,[r5,#2]            ;213
000342  e76d              B        |L8.544|
                  |L8.836|
000344  f8d4b004          LDR      r11,[r4,#4]           ;240
000348  2100              MOVS     r1,#0                 ;241
00034a  4658              MOV      r0,r11                ;241
00034c  f7fffffe          BL       WINDOW_SetBkColor
000350  2300              MOVS     r3,#0                 ;242
000352  f44f727a          MOV      r2,#0x3e8             ;242
000356  2103              MOVS     r1,#3                 ;242
000358  4658              MOV      r0,r11                ;242
00035a  f7fffffe          BL       WM_CreateTimer
00035e  4651              MOV      r1,r10                ;254
000360  6860              LDR      r0,[r4,#4]            ;254
000362  f7fffffe          BL       WM_GetDialogItem
000366  4682              MOV      r10,r0                ;254
000368  21ff              MOVS     r1,#0xff              ;255
00036a  4650              MOV      r0,r10                ;255
00036c  f7fffffe          BL       TEXT_SetTextColor
000370  4953              LDR      r1,|L8.1216|
000372  4650              MOV      r0,r10                ;256
000374  f7fffffe          BL       TEXT_SetFont
000378  a133              ADR      r1,|L8.1096|
00037a  4650              MOV      r0,r10                ;257
00037c  f7fffffe          BL       TEXT_SetText
000380  f6400102          MOV      r1,#0x802             ;260
000384  6860              LDR      r0,[r4,#4]            ;260
000386  f7fffffe          BL       WM_GetDialogItem
00038a  4682              MOV      r10,r0                ;260
00038c  4948              LDR      r1,|L8.1200|
00038e  4650              MOV      r0,r10                ;262
000390  f7fffffe          BL       BUTTON_SetFont
000394  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000398  a14a              ADR      r1,|L8.1220|
00039a  4650              MOV      r0,r10                ;264
00039c  f7fffffe          BL       BUTTON_SetText
0003a0  f6400103          MOV      r1,#0x803             ;268
0003a4  6860              LDR      r0,[r4,#4]            ;268
0003a6  f7fffffe          BL       WM_GetDialogItem
0003aa  4682              MOV      r10,r0                ;268
0003ac  4940              LDR      r1,|L8.1200|
0003ae  4650              MOV      r0,r10                ;270
0003b0  f7fffffe          BL       BUTTON_SetFont
0003b4  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0003b8  a146              ADR      r1,|L8.1236|
0003ba  4650              MOV      r0,r10                ;272
0003bc  f7fffffe          BL       BUTTON_SetText
0003c0  f6400104          MOV      r1,#0x804             ;276
0003c4  6860              LDR      r0,[r4,#4]            ;276
0003c6  f7fffffe          BL       WM_GetDialogItem
0003ca  4682              MOV      r10,r0                ;276
0003cc  2101              MOVS     r1,#1                 ;277
0003ce  4650              MOV      r0,r10                ;277
0003d0  f7fffffe          BL       BUTTON_SetPressed
0003d4  4936              LDR      r1,|L8.1200|
0003d6  4650              MOV      r0,r10                ;279
0003d8  f7fffffe          BL       BUTTON_SetFont
0003dc  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0003e0  a140              ADR      r1,|L8.1252|
0003e2  4650              MOV      r0,r10                ;281
0003e4  f7fffffe          BL       BUTTON_SetText
0003e8  f6400105          MOV      r1,#0x805             ;285
0003ec  6860              LDR      r0,[r4,#4]            ;285
0003ee  f7fffffe          BL       WM_GetDialogItem
0003f2  4682              MOV      r10,r0                ;285
0003f4  492e              LDR      r1,|L8.1200|
0003f6  4650              MOV      r0,r10                ;287
0003f8  f7fffffe          BL       BUTTON_SetFont
0003fc  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000400  a13c              ADR      r1,|L8.1268|
000402  4650              MOV      r0,r10                ;289
000404  e07c              B        |L8.1280|
000406  0000              DCW      0x0000
                  |L8.1032|
                          DCD      Run_Control
                  |L8.1036|
00040c  42c80000          DCFS     0x42c80000 ; 100
                  |L8.1040|
000410  447a0000          DCFS     0x447a0000 ; 1000
                  |L8.1044|
                          DCD      0x00d3d3d3
                  |L8.1048|
                          DCD      temp
                  |L8.1052|
00041c  00000000          DCFD     0x0000000000000000 ; 0
000420  00000000
                  |L8.1060|
                          DCD      ||.data||
                  |L8.1064|
                          DCD      GUI_Fontsymbol
                  |L8.1068|
                          DCD      jkflag
                  |L8.1072|
000430  4a696e6b          DCB      "Jinko",0
000434  6f00    
000436  00                DCB      0
000437  00                DCB      0
                  |L8.1080|
                          DCD      GUI_FontHZ20S
                  |L8.1084|
00043c  e6b58be9          DCB      230,181,139,233,135,143,230,152,190,231,164,186
000440  878fe698
000444  bee7a4ba
                  |L8.1096|
000448  00                DCB      0
000449  00                DCB      0
00044a  00                DCB      0
00044b  00                DCB      0
                  |L8.1100|
                          DCD      GUI_Font24_1
                  |L8.1104|
000450  5600              DCB      "V",0
000452  00                DCB      0
000453  00                DCB      0
                  |L8.1108|
000454  4100              DCB      "A",0
000456  00                DCB      0
000457  00                DCB      0
                  |L8.1112|
                          DCD      GUI_FontEN40
                  |L8.1116|
00045c  433a00            DCB      "C:",0
00045f  00                DCB      0
                  |L8.1120|
000460  6d00              DCB      "m",0
000462  00                DCB      0
000463  00                DCB      0
                  |L8.1124|
000464  414800            DCB      "AH",0
000467  00                DCB      0
                  |L8.1128|
                          DCD      GUI_Fontunit
                  |L8.1132|
00046c  c2b000            DCB      194,176,0
00046f  00                DCB      0
                  |L8.1136|
000470  4300              DCB      "C",0
000472  00                DCB      0
000473  00                DCB      0
                  |L8.1140|
                          DCD      lock
                  |L8.1144|
                          DCD      disloadv
                  |L8.1148|
                          DCD      0x3dcccccd
                  |L8.1152|
000480  252e3366          DCB      "%.3f",0
000484  00      
000485  00                DCB      0
000486  00                DCB      0
000487  00                DCB      0
                  |L8.1160|
000488  e9948100          DCB      233,148,129,0
                  |L8.1164|
00048c  252e3166          DCB      "%.1f",0
000490  00      
000491  00                DCB      0
000492  00                DCB      0
000493  00                DCB      0
                  |L8.1172|
                          DCD      bc_raw
                  |L8.1176|
                          DCD      battery_c
                  |L8.1180|
00049c  25303564          DCB      "%05d",0
0004a0  00      
0004a1  00                DCB      0
0004a2  00                DCB      0
0004a3  00                DCB      0
                  |L8.1188|
                          DCD      DISS_POW_Current
                  |L8.1192|
                          DCD      0x40020800
                  |L8.1196|
                          DCD      mode_sw
                  |L8.1200|
                          DCD      GUI_FontHZ16
                  |L8.1204|
0004b4  e58585e7          DCB      229,133,133,231,148,181,228,184,173,0
0004b8  94b5e4b8
0004bc  ad00    
0004be  00                DCB      0
0004bf  00                DCB      0
                  |L8.1216|
                          DCD      GUI_FontHZ14
                  |L8.1220|
0004c4  e58685e9          DCB      229,134,133,233,152,187,230,181,139,232,175,149,0
0004c8  98bbe6b5
0004cc  8be8af95
0004d0  00      
0004d1  00                DCB      0
0004d2  00                DCB      0
0004d3  00                DCB      0
                  |L8.1236|
0004d4  e7a88be6          DCB      231,168,139,230,142,167,232,180,159,232,189,189,0
0004d8  8ea7e8b4
0004dc  9fe8bdbd
0004e0  00      
0004e1  00                DCB      0
0004e2  00                DCB      0
0004e3  00                DCB      0
                  |L8.1252|
0004e4  e7a88be6          DCB      231,168,139,230,142,167,231,148,181,230,186,144,0
0004e8  8ea7e794
0004ec  b5e6ba90
0004f0  00      
0004f1  00                DCB      0
0004f2  00                DCB      0
0004f3  00                DCB      0
                  |L8.1268|
0004f4  e58585e6          DCB      229,133,133,230,148,190,231,148,181,0
0004f8  94bee794
0004fc  b500    
0004fe  00                DCB      0
0004ff  00                DCB      0
                  |L8.1280|
000500  f7fffffe          BL       BUTTON_SetText
000504  f6400106          MOV      r1,#0x806             ;293
000508  6860              LDR      r0,[r4,#4]            ;293
00050a  f7fffffe          BL       WM_GetDialogItem
00050e  4682              MOV      r10,r0                ;293
000510  49b8              LDR      r1,|L8.2036|
000512  4650              MOV      r0,r10                ;295
000514  f7fffffe          BL       BUTTON_SetFont
000518  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00051c  a1b6              ADR      r1,|L8.2040|
00051e  4650              MOV      r0,r10                ;297
000520  f7fffffe          BL       BUTTON_SetText
000524  f6400107          MOV      r1,#0x807             ;300
000528  6860              LDR      r0,[r4,#4]            ;300
00052a  f7fffffe          BL       WM_GetDialogItem
00052e  4682              MOV      r10,r0                ;300
000530  4631              MOV      r1,r6                 ;301
000532  4650              MOV      r0,r10                ;301
000534  f7fffffe          BL       TEXT_SetTextColor
000538  49b1              LDR      r1,|L8.2048|
00053a  4650              MOV      r0,r10                ;302
00053c  f7fffffe          BL       TEXT_SetFont
000540  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000544  a1af              ADR      r1,|L8.2052|
000546  4650              MOV      r0,r10                ;304
000548  f7fffffe          BL       TEXT_SetText
00054c  f6400108          MOV      r1,#0x808             ;306
000550  6860              LDR      r0,[r4,#4]            ;306
000552  f7fffffe          BL       WM_GetDialogItem
000556  4682              MOV      r10,r0                ;306
000558  4631              MOV      r1,r6                 ;307
00055a  4650              MOV      r0,r10                ;307
00055c  f7fffffe          BL       TEXT_SetTextColor
000560  49a7              LDR      r1,|L8.2048|
000562  4650              MOV      r0,r10                ;308
000564  f7fffffe          BL       TEXT_SetFont
000568  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00056c  a1a6              ADR      r1,|L8.2056|
00056e  4650              MOV      r0,r10                ;310
000570  f7fffffe          BL       TEXT_SetText
000574  f44f6102          MOV      r1,#0x820             ;312
000578  6860              LDR      r0,[r4,#4]            ;312
00057a  f7fffffe          BL       WM_GetDialogItem
00057e  4682              MOV      r10,r0                ;312
000580  4631              MOV      r1,r6                 ;313
000582  4650              MOV      r0,r10                ;313
000584  f7fffffe          BL       TEXT_SetTextColor
000588  499d              LDR      r1,|L8.2048|
00058a  4650              MOV      r0,r10                ;314
00058c  f7fffffe          BL       TEXT_SetFont
000590  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000594  f2af1148          ADR      r1,|L8.1104|
000598  4650              MOV      r0,r10                ;316
00059a  f7fffffe          BL       TEXT_SetText
00059e  f6400121          MOV      r1,#0x821             ;318
0005a2  6860              LDR      r0,[r4,#4]            ;318
0005a4  f7fffffe          BL       WM_GetDialogItem
0005a8  4682              MOV      r10,r0                ;318
0005aa  4631              MOV      r1,r6                 ;319
0005ac  4650              MOV      r0,r10                ;319
0005ae  f7fffffe          BL       TEXT_SetTextColor
0005b2  4993              LDR      r1,|L8.2048|
0005b4  4650              MOV      r0,r10                ;320
0005b6  f7fffffe          BL       TEXT_SetFont
0005ba  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0005be  f2af116c          ADR      r1,|L8.1108|
0005c2  4650              MOV      r0,r10                ;322
0005c4  f7fffffe          BL       TEXT_SetText
0005c8  f640013d          MOV      r1,#0x83d             ;324
0005cc  6860              LDR      r0,[r4,#4]            ;324
0005ce  f7fffffe          BL       WM_GetDialogItem
0005d2  4606              MOV      r6,r0                 ;324
0005d4  2100              MOVS     r1,#0                 ;325
0005d6  4630              MOV      r0,r6                 ;325
0005d8  f7fffffe          BL       TEXT_SetTextColor
0005dc  498b              LDR      r1,|L8.2060|
0005de  4630              MOV      r0,r6                 ;326
0005e0  f7fffffe          BL       TEXT_SetBkColor
0005e4  498a              LDR      r1,|L8.2064|
0005e6  4630              MOV      r0,r6                 ;327
0005e8  f7fffffe          BL       TEXT_SetFont
0005ec  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0005f0  a188              ADR      r1,|L8.2068|
0005f2  4630              MOV      r0,r6                 ;329
0005f4  f7fffffe          BL       TEXT_SetText
0005f8  f640013e          MOV      r1,#0x83e             ;331
0005fc  6860              LDR      r0,[r4,#4]            ;331
0005fe  f7fffffe          BL       WM_GetDialogItem
000602  4682              MOV      r10,r0                ;331
000604  464e              MOV      r6,r9                 ;332
000606  4631              MOV      r1,r6                 ;332
000608  4650              MOV      r0,r10                ;332
00060a  f7fffffe          BL       TEXT_SetTextColor
00060e  4980              LDR      r1,|L8.2064|
000610  4650              MOV      r0,r10                ;333
000612  f7fffffe          BL       TEXT_SetFont
000616  f7fffffe          BL       GUI_UC_SetEncodeUTF8
00061a  a182              ADR      r1,|L8.2084|
00061c  4650              MOV      r0,r10                ;335
00061e  f7fffffe          BL       TEXT_SetText
000622  f640113a          MOV      r1,#0x93a             ;337
000626  6860              LDR      r0,[r4,#4]            ;337
000628  f7fffffe          BL       WM_GetDialogItem
00062c  4681              MOV      r9,r0                 ;337
00062e  4631              MOV      r1,r6                 ;338
000630  4648              MOV      r0,r9                 ;338
000632  f7fffffe          BL       TEXT_SetTextColor
000636  4976              LDR      r1,|L8.2064|
000638  4648              MOV      r0,r9                 ;339
00063a  f7fffffe          BL       TEXT_SetFont
00063e  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000642  a17c              ADR      r1,|L8.2100|
000644  4648              MOV      r0,r9                 ;341
000646  f7fffffe          BL       TEXT_SetText
00064a  f6400166          MOV      r1,#0x866             ;343
00064e  6860              LDR      r0,[r4,#4]            ;343
000650  f7fffffe          BL       WM_GetDialogItem
000654  4681              MOV      r9,r0                 ;343
000656  ee190a90          VMOV     r0,s19                ;344
00065a  f7fffffe          BL       __aeabi_f2d
00065e  ec410b10          VMOV     d0,r0,r1              ;344
000662  a178              ADR      r1,|L8.2116|
000664  ec532b10          VMOV     r2,r3,d0              ;344
000668  a801              ADD      r0,sp,#4              ;344
00066a  f7fffffe          BL       __2sprintf
00066e  4631              MOV      r1,r6                 ;345
000670  4648              MOV      r0,r9                 ;345
000672  f7fffffe          BL       TEXT_SetTextColor
000676  4975              LDR      r1,|L8.2124|
000678  4648              MOV      r0,r9                 ;346
00067a  f7fffffe          BL       TEXT_SetFont
00067e  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000682  a901              ADD      r1,sp,#4              ;348
000684  4648              MOV      r0,r9                 ;348
000686  f7fffffe          BL       TEXT_SetText
00068a  f6400167          MOV      r1,#0x867             ;350
00068e  6860              LDR      r0,[r4,#4]            ;350
000690  f7fffffe          BL       WM_GetDialogItem
000694  4681              MOV      r9,r0                 ;350
000696  ee190a10          VMOV     r0,s18                ;351
00069a  f7fffffe          BL       __aeabi_f2d
00069e  ec410b10          VMOV     d0,r0,r1              ;351
0006a2  ec532b10          VMOV     r2,r3,d0              ;351
0006a6  f2af2128          ADR      r1,|L8.1152|
0006aa  a801              ADD      r0,sp,#4              ;351
0006ac  f7fffffe          BL       __2sprintf
0006b0  4631              MOV      r1,r6                 ;352
0006b2  4648              MOV      r0,r9                 ;352
0006b4  f7fffffe          BL       TEXT_SetTextColor
0006b8  4964              LDR      r1,|L8.2124|
0006ba  4648              MOV      r0,r9                 ;353
0006bc  f7fffffe          BL       TEXT_SetFont
0006c0  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0006c4  a901              ADD      r1,sp,#4              ;355
0006c6  4648              MOV      r0,r9                 ;355
0006c8  f7fffffe          BL       TEXT_SetText
0006cc  f6400193          MOV      r1,#0x893             ;357
0006d0  6860              LDR      r0,[r4,#4]            ;357
0006d2  f7fffffe          BL       WM_GetDialogItem
0006d6  4681              MOV      r9,r0                 ;357
0006d8  ec532b18          VMOV     r2,r3,d8              ;358
0006dc  f2af2160          ADR      r1,|L8.1152|
0006e0  a801              ADD      r0,sp,#4              ;358
0006e2  f7fffffe          BL       __2sprintf
0006e6  4641              MOV      r1,r8                 ;359
0006e8  4648              MOV      r0,r9                 ;359
0006ea  f7fffffe          BL       TEXT_SetTextColor
0006ee  4958              LDR      r1,|L8.2128|
0006f0  4648              MOV      r0,r9                 ;360
0006f2  f7fffffe          BL       TEXT_SetFont
0006f6  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0006fa  a901              ADD      r1,sp,#4              ;362
0006fc  4648              MOV      r0,r9                 ;362
0006fe  f7fffffe          BL       TEXT_SetText
000702  f6400194          MOV      r1,#0x894             ;364
000706  6860              LDR      r0,[r4,#4]            ;364
000708  f7fffffe          BL       WM_GetDialogItem
00070c  4681              MOV      r9,r0                 ;364
00070e  ec532b18          VMOV     r2,r3,d8              ;365
000712  f2af2194          ADR      r1,|L8.1152|
000716  a801              ADD      r0,sp,#4              ;365
000718  f7fffffe          BL       __2sprintf
00071c  4641              MOV      r1,r8                 ;366
00071e  4648              MOV      r0,r9                 ;366
000720  f7fffffe          BL       TEXT_SetTextColor
000724  494a              LDR      r1,|L8.2128|
000726  4648              MOV      r0,r9                 ;367
000728  f7fffffe          BL       TEXT_SetFont
00072c  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000730  a901              ADD      r1,sp,#4              ;369
000732  4648              MOV      r0,r9                 ;369
000734  f7fffffe          BL       TEXT_SetText
000738  f640110b          MOV      r1,#0x90b             ;371
00073c  6860              LDR      r0,[r4,#4]            ;371
00073e  f7fffffe          BL       WM_GetDialogItem
000742  4681              MOV      r9,r0                 ;371
000744  2200              MOVS     r2,#0                 ;372
000746  f2af21ac          ADR      r1,|L8.1180|
00074a  a801              ADD      r0,sp,#4              ;372
00074c  f7fffffe          BL       __2sprintf
000750  4641              MOV      r1,r8                 ;373
000752  4648              MOV      r0,r9                 ;373
000754  f7fffffe          BL       TEXT_SetTextColor
000758  493d              LDR      r1,|L8.2128|
00075a  4648              MOV      r0,r9                 ;374
00075c  f7fffffe          BL       TEXT_SetFont
000760  f7fffffe          BL       GUI_UC_SetEncodeUTF8
000764  a901              ADD      r1,sp,#4              ;376
000766  4648              MOV      r0,r9                 ;376
000768  f7fffffe          BL       TEXT_SetText
00076c  f640110c          MOV      r1,#0x90c             ;378
000770  6860              LDR      r0,[r4,#4]            ;378
000772  f7fffffe          BL       WM_GetDialogItem
000776  4681              MOV      r9,r0                 ;378
000778  4641              MOV      r1,r8                 ;379
00077a  4648              MOV      r0,r9                 ;379
00077c  f7fffffe          BL       TEXT_SetTextColor
000780  4932              LDR      r1,|L8.2124|
000782  4648              MOV      r0,r9                 ;380
000784  f7fffffe          BL       TEXT_SetFont
000788  6838              LDR      r0,[r7,#0]            ;381  ; temp
00078a  f7fffffe          BL       __aeabi_f2d
00078e  ec410b10          VMOV     d0,r0,r1              ;381
000792  ec532b10          VMOV     r2,r3,d0              ;381
000796  f2af310c          ADR      r1,|L8.1164|
00079a  a801              ADD      r0,sp,#4              ;381
00079c  f7fffffe          BL       __2sprintf
0007a0  a901              ADD      r1,sp,#4              ;382
0007a2  4648              MOV      r0,r9                 ;382
0007a4  f7fffffe          BL       TEXT_SetText
0007a8  f640112e          MOV      r1,#0x92e             ;384
0007ac  6860              LDR      r0,[r4,#4]            ;384
0007ae  f7fffffe          BL       WM_GetDialogItem
0007b2  4604              MOV      r4,r0                 ;384
0007b4  68a8              LDR      r0,[r5,#8]            ;385  ; pow_cutoffc
0007b6  f7fffffe          BL       __aeabi_f2d
0007ba  ec410b10          VMOV     d0,r0,r1              ;385
0007be  ec532b10          VMOV     r2,r3,d0              ;385
0007c2  f2af3144          ADR      r1,|L8.1152|
0007c6  a801              ADD      r0,sp,#4              ;385
0007c8  f7fffffe          BL       __2sprintf
0007cc  4631              MOV      r1,r6                 ;386
0007ce  4620              MOV      r0,r4                 ;386
0007d0  f7fffffe          BL       TEXT_SetTextColor
0007d4  491d              LDR      r1,|L8.2124|
0007d6  4620              MOV      r0,r4                 ;387
0007d8  f7fffffe          BL       TEXT_SetFont
0007dc  f7fffffe          BL       GUI_UC_SetEncodeUTF8
0007e0  a901              ADD      r1,sp,#4              ;389
0007e2  4620              MOV      r0,r4                 ;389
0007e4  f7fffffe          BL       TEXT_SetText
0007e8  e43c              B        |L8.100|
                  |L8.2026|
0007ea  68a0              LDR      r0,[r4,#8]            ;395
0007ec  f7fffffe          BL       WM_GetId
0007f0  e438              B        |L8.100|
;;;494    
                          ENDP

0007f2  0000              DCW      0x0000
                  |L8.2036|
                          DCD      GUI_FontHZ16
                  |L8.2040|
0007f8  e69bb2e7          DCB      230,155,178,231,186,191,0
0007fc  babf00  
0007ff  00                DCB      0
                  |L8.2048|
                          DCD      GUI_FontEN40
                  |L8.2052|
000804  563a00            DCB      "V:",0
000807  00                DCB      0
                  |L8.2056|
000808  493a00            DCB      "I:",0
00080b  00                DCB      0
                  |L8.2060|
                          DCD      0x00bfffff
                  |L8.2064|
                          DCD      GUI_Fontset_font
                  |L8.2068|
000814  e8be93e5          DCB      232,190,147,229,135,186,231,148,181,229,142,139,0
000818  87bae794
00081c  b5e58e8b
000820  00      
000821  00                DCB      0
000822  00                DCB      0
000823  00                DCB      0
                  |L8.2084|
000824  e99990e5          DCB      233,153,144,229,136,182,231,148,181,230,181,129,0
000828  88b6e794
00082c  b5e6b581
000830  00      
000831  00                DCB      0
000832  00                DCB      0
000833  00                DCB      0
                  |L8.2100|
000834  e688aae6          DCB      230,136,170,230,173,162,231,148,181,230,181,129,0
000838  ada2e794
00083c  b5e6b581
000840  00      
000841  00                DCB      0
000842  00                DCB      0
000843  00                DCB      0
                  |L8.2116|
000844  252e3266          DCB      "%.2f",0
000848  00      
000849  00                DCB      0
00084a  00                DCB      0
00084b  00                DCB      0
                  |L8.2124|
                          DCD      GUI_Font24_1
                  |L8.2128|
                          DCD      GUI_FontD24x32

                          AREA ||i.test_pow||, CODE, READONLY, ALIGN=2

                  test_pow PROC
;;;1230   
;;;1231   void test_pow(void)
000000  b570              PUSH     {r4-r6,lr}
;;;1232   {
;;;1233   
;;;1234       if(pow_sw == pow_on && para_set1 == set_1_on)
000002  4834              LDR      r0,|L9.212|
000004  7800              LDRB     r0,[r0,#0]  ; pow_sw
;;;1235       {
;;;1236           if(DISS_POW_Voltage*100 > set_max_v || DISS_POW_Voltage*100 < set_min_v || DISS_POW_Current * 100 > set_max_c || DISS_POW_Current * 100 < set_min_c)
;;;1237           {
;;;1238               if(para_set4 == set_4_on){
;;;1239                   BEEP_Tiggr();
;;;1240               }
;;;1241               TM1650_SET_LED(0x68,0x70);//FAIL灯
;;;1242               GPIO_SetBits(GPIOD,GPIO_Pin_12);//            
000006  4d34              LDR      r5,|L9.216|
000008  f44f5480          MOV      r4,#0x1000
00000c  2801              CMP      r0,#1                 ;1234
00000e  d103              BNE      |L9.24|
000010  4832              LDR      r0,|L9.220|
000012  7800              LDRB     r0,[r0,#0]            ;1234  ; para_set1
000014  28ff              CMP      r0,#0xff              ;1234
000016  d009              BEQ      |L9.44|
                  |L9.24|
;;;1243           }else{
;;;1244               GPIO_ResetBits(GPIOD,GPIO_Pin_12);
;;;1245               TM1650_SET_LED(0x48,0x71);
;;;1246               TM1650_SET_LED(0x68,0xF2);//PASS灯
;;;1247           }        
;;;1248       }else
;;;1249       {
;;;1250           TM1650_SET_LED(0x68,0x70);
000018  2170              MOVS     r1,#0x70
00001a  2068              MOVS     r0,#0x68
00001c  f7fffffe          BL       TM1650_SET_LED
;;;1251           GPIO_ResetBits(GPIOD,GPIO_Pin_12);//灭灯
000020  4621              MOV      r1,r4
000022  4628              MOV      r0,r5
000024  e8bd4070          POP      {r4-r6,lr}
000028  f7ffbffe          B.W      GPIO_ResetBits
                  |L9.44|
00002c  482c              LDR      r0,|L9.224|
00002e  eddf0a2d          VLDR     s1,|L9.228|
000032  4a2d              LDR      r2,|L9.232|
000034  ed900a00          VLDR     s0,[r0,#0]            ;1236
000038  6b93              LDR      r3,[r2,#0x38]         ;1236  ; Run_Control
00003a  ee200a20          VMUL.F32 s0,s0,s1              ;1236
00003e  ee013a10          VMOV     s2,r3                 ;1236
000042  eeb81a41          VCVT.F32.U32 s2,s2                 ;1236
000046  eeb40ac1          VCMPE.F32 s0,s2                 ;1236
00004a  eef1fa10          VMRS     APSR_nzcv,FPSCR       ;1236
00004e  dc22              BGT      |L9.150|
000050  6bd3              LDR      r3,[r2,#0x3c]         ;1236  ; Run_Control
000052  ee013a10          VMOV     s2,r3                 ;1236
000056  eeb81a41          VCVT.F32.U32 s2,s2                 ;1236
00005a  eeb40ac1          VCMPE.F32 s0,s2                 ;1236
00005e  eef1fa10          VMRS     APSR_nzcv,FPSCR       ;1236
000062  d318              BCC      |L9.150|
000064  4821              LDR      r0,|L9.236|
000066  ed900a00          VLDR     s0,[r0,#0]            ;1236
00006a  6c90              LDR      r0,[r2,#0x48]         ;1236  ; Run_Control
00006c  ee200a20          VMUL.F32 s0,s0,s1              ;1236
000070  ee000a90          VMOV     s1,r0                 ;1236
000074  eef80a60          VCVT.F32.U32 s1,s1                 ;1236
000078  eeb40ae0          VCMPE.F32 s0,s1                 ;1236
00007c  eef1fa10          VMRS     APSR_nzcv,FPSCR       ;1236
000080  dc09              BGT      |L9.150|
000082  6cd0              LDR      r0,[r2,#0x4c]         ;1236  ; Run_Control
000084  ee000a90          VMOV     s1,r0                 ;1236
000088  eef80a60          VCVT.F32.U32 s1,s1                 ;1236
00008c  eeb40ae0          VCMPE.F32 s0,s1                 ;1236
000090  eef1fa10          VMRS     APSR_nzcv,FPSCR       ;1236
000094  d20f              BCS      |L9.182|
                  |L9.150|
000096  4816              LDR      r0,|L9.240|
000098  7800              LDRB     r0,[r0,#0]            ;1238  ; para_set4
00009a  28ff              CMP      r0,#0xff              ;1238
00009c  d101              BNE      |L9.162|
00009e  f7fffffe          BL       BEEP_Tiggr
                  |L9.162|
0000a2  2170              MOVS     r1,#0x70              ;1241
0000a4  2068              MOVS     r0,#0x68              ;1241
0000a6  f7fffffe          BL       TM1650_SET_LED
0000aa  4621              MOV      r1,r4                 ;1242
0000ac  4628              MOV      r0,r5                 ;1242
0000ae  e8bd4070          POP      {r4-r6,lr}            ;1242
0000b2  f7ffbffe          B.W      GPIO_SetBits
                  |L9.182|
0000b6  4621              MOV      r1,r4                 ;1244
0000b8  4628              MOV      r0,r5                 ;1244
0000ba  f7fffffe          BL       GPIO_ResetBits
0000be  2171              MOVS     r1,#0x71              ;1245
0000c0  2048              MOVS     r0,#0x48              ;1245
0000c2  f7fffffe          BL       TM1650_SET_LED
0000c6  e8bd4070          POP      {r4-r6,lr}            ;1246
0000ca  21f2              MOVS     r1,#0xf2              ;1246
0000cc  2068              MOVS     r0,#0x68              ;1246
0000ce  f7ffbffe          B.W      TM1650_SET_LED
;;;1252       }
;;;1253   }
;;;1254   
                          ENDP

0000d2  0000              DCW      0x0000
                  |L9.212|
                          DCD      ||.data||
                  |L9.216|
                          DCD      0x40020c00
                  |L9.220|
                          DCD      para_set1
                  |L9.224|
                          DCD      DISS_POW_Voltage
                  |L9.228|
0000e4  42c80000          DCFS     0x42c80000 ; 100
                  |L9.232|
                          DCD      Run_Control
                  |L9.236|
                          DCD      DISS_POW_Current
                  |L9.240|
                          DCD      para_set4

                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

                  _aDialogCreate1
                          DCD      WINDOW_CreateIndirect
                          DCD      ||.conststring||
000008  08000000          DCW      0x0800,0x0000
00000c  000001e0          DCW      0x0000,0x01e0
000010  01100000          DCW      0x0110,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x8
000024  08020053          DCW      0x0802,0x0053
000028  00e2004d          DCW      0x00e2,0x004d
00002c  002d0000          DCW      0x002d,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x8
000040  080300a3          DCW      0x0803,0x00a3
000044  00e2004d          DCW      0x00e2,0x004d
000048  002d0000          DCW      0x002d,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x8
00005c  080400f3          DCW      0x0804,0x00f3
000060  00e2004d          DCW      0x00e2,0x004d
000064  002d0000          DCW      0x002d,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x8
000078  08050143          DCW      0x0805,0x0143
00007c  00e2004d          DCW      0x00e2,0x004d
000080  002d0000          DCW      0x002d,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x8
000094  08060193          DCW      0x0806,0x0193
000098  00e2004d          DCW      0x00e2,0x004d
00009c  002d0000          DCW      0x002d,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
0000b0  0807001c          DCW      0x0807,0x001c
0000b4  00320040          DCW      0x0032,0x0040
0000b8  00200000          DCW      0x0020,0x0000
                          DCD      0x00000064
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
0000cc  0808001c          DCW      0x0808,0x001c
0000d0  00780040          DCW      0x0078,0x0040
0000d4  00200000          DCW      0x0020,0x0000
                          DCD      0x00000064
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
0000e8  082000f0          DCW      0x0820,0x00f0
0000ec  00320020          DCW      0x0032,0x0020
0000f0  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
000104  082100f0          DCW      0x0821,0x00f0
000108  00790020          DCW      0x0079,0x0020
00010c  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
000120  083d0122          DCW      0x083d,0x0122
000124  004b0050          DCW      0x004b,0x0050
000128  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
00013c  083e0122          DCW      0x083e,0x0122
000140  00640050          DCW      0x0064,0x0050
000144  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
000158  0866017c          DCW      0x0866,0x017c
00015c  004b0035          DCW      0x004b,0x0035
000160  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
000174  08670172          DCW      0x0867,0x0172
000178  00640041          DCW      0x0064,0x0041
00017c  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
000190  0893005f          DCW      0x0893,0x005f
000194  00300096          DCW      0x0030,0x0096
000198  00280000          DCW      0x0028,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
0001ac  0894005f          DCW      0x0894,0x005f
0001b0  00740096          DCW      0x0074,0x0096
0001b4  00280000          DCW      0x0028,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
0001c8  08950190          DCW      0x0895,0x0190
0001cc  00040032          DCW      0x0004,0x0032
0001d0  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
0001e4  090b005f          DCW      0x090b,0x005f
0001e8  00b80096          DCW      0x00b8,0x0096
0001ec  00280000          DCW      0x0028,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
000200  090c012c          DCW      0x090c,0x012c
000204  00020050          DCW      0x0002,0x0050
000208  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
00021c  092e0172          DCW      0x092e,0x0172
000220  00960041          DCW      0x0096,0x0041
000224  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
000238  093a0122          DCW      0x093a,0x0122
00023c  00960050          DCW      0x0096,0x0050
000240  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x10
000254  093c017c          DCW      0x093c,0x017c
000258  00080014          DCW      0x0008,0x0014
00025c  000f0000          DCW      0x000f,0x0000
                          DCD      0x00000000
                          DCD      0x00000000

                          AREA ||.conststring||, DATA, READONLY, MERGE=1, STRINGS, ALIGN=2

000000  57696e64          DCB      "Window",0
000004  6f7700  
000007  00                DCB      0
000008  42757474          DCB      "Button",0
00000c  6f6e00  
00000f  00                DCB      0
000010  54657874          DCB      "Text",0
000014  00      

                          AREA ||.data||, DATA, ALIGN=2

                  pow_sw
000000  00                DCB      0x00
                  status_flash
000001  00                DCB      0x00
                  cdelay
000002  0000              DCB      0x00,0x00
                  hWinWind
                          DCD      0x00000000
                  pow_cutoffc
                          DCD      0x00000000

;*** Start embedded assembler ***

#line 1 "..\\APP\\menu.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___6_menu_c_pow_sw____REV16|
#line 129 "D:\\Keil_v5\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___6_menu_c_pow_sw____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___6_menu_c_pow_sw____REVSH|
#line 144
|__asm___6_menu_c_pow_sw____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
